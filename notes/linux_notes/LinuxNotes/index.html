<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="LFS101x LinuxFoundationX: LFS101x Introduction to Linux edx course notes
 Last Updated: August 02, 2018 by Pepe Sandoval
  Want to show support?"><title>ðŸª„ Hi, I'm Aryan</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://aryana101a.github.io/digital_garden//icon.png><link href=https://aryana101a.github.io/digital_garden/styles.d2f738589684858118a26e4c88e3fef5.min.css rel=stylesheet><link href=https://aryana101a.github.io/digital_garden/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://aryana101a.github.io/digital_garden/js/darkmode.6d4fe0ca5b63f848ebeef87b162635d8.min.js></script>
<script src=https://aryana101a.github.io/digital_garden/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://aryana101a.github.io/digital_garden/js/popover.37b1455b8f0603154072b9467132c659.min.js></script>
<script src=https://aryana101a.github.io/digital_garden/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://aryana101a.github.io/digital_garden/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://aryana101a.github.io/digital_garden/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://aryana101a.github.io/digital_garden/",fetchData=Promise.all([fetch("https://aryana101a.github.io/digital_garden/indices/linkIndex.c20a20e12f6c9d68f51d29b7435eff3c.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://aryana101a.github.io/digital_garden/indices/contentIndex.aa60c6854eecd9a962b5cdda6d6d9625.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addCollapsibleCallouts(),initPopover("https://aryana101a.github.io/digital_garden",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!0;drawGraph("https://aryana101a.github.io/digital_garden",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script>window.Million={navigate:e=>window.location.href=e,prefetch:()=>{}},window.addEventListener("DOMContentLoaded",()=>{init(),render()})</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://aryana101a.github.io/digital_garden/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://aryana101a.github.io/digital_garden/>ðŸª„ Hi, I'm Aryan</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Aug 17, 2022</p><ul class=tags></ul><a href=#lfs101x><h1 id=lfs101x><span class=hanchor arialabel=Anchor># </span>LFS101x</h1></a><p>LinuxFoundationX: LFS101x Introduction to Linux edx course notes</p><hr><p>Last Updated: August 02, 2018 by
<a href=http://www.pepedocs.com/webcv rel=noopener>Pepe Sandoval</a></p><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/lfs101x.jpg width=auto alt=sa></p><hr><a href=#want-to-show-support><h5 id=want-to-show-support><span class=hanchor arialabel=Anchor># </span>Want to show support?</h5></a><p>If you find the information in this page useful and want to show your support, you can make a donation</p><p><a href=https://commerce.coinbase.com/checkout/1e4de557-4be8-4674-a2be-417b4a203e72 rel=noopener>Donate with Crypto</a></p><p>This will help me to create more stuff and fix the existent content&mldr; or probably your money will be used to buy beer</p><hr><a href=#chapter-1-the-linux-foundation-and-introduction><h1 id=chapter-1-the-linux-foundation-and-introduction><span class=hanchor arialabel=Anchor># </span>Chapter 1: The Linux Foundation and Introduction</h1></a><a href=#intro><h2 id=intro><span class=hanchor arialabel=Anchor># </span>Intro</h2></a><p>The kernel is just the core of the OS, it talks to the HW, makes the HW works, and it makes it able for you to run a program</p><a href=#linux-foundation><h2 id=linux-foundation><span class=hanchor arialabel=Anchor># </span>Linux Foundation</h2></a><p>It&rsquo;s a non-profit organization that sponsors Linux</p><ul><li>Supported by individual members and large companies (Intel, TI, NXP, Oracle, etc.)</li><li>Organize technical events and develop training programs</li><li>Manages
<a href=https://www.kernel.org/ rel=noopener>kernel.org</a> where the official versions of the Linux kernel are released.</li><li>Runs Linux web page
<a href=https://www.linux.com/ rel=noopener>linux.com</a></li></ul><a href=#linux-distributions--families><h2 id=linux-distributions--families><span class=hanchor arialabel=Anchor># </span>Linux Distributions & Families</h2></a><a href=#fedora><h3 id=fedora><span class=hanchor arialabel=Anchor># </span>Fedora</h3></a><ul><li>Package manager: <strong>yum</strong> or/and <strong>dnf</strong></li><li>Directly associated with Red Hat widely used by enterprises which host their own systems.</li><li>Examples: Fedora, RHEL (Red Hat Enterprise Linux), Centos</li></ul><a href=#debian><h3 id=debian><span class=hanchor arialabel=Anchor># </span>Debian</h3></a><ul><li>Widley used for servers and desktop</li><li>Focuses on stability</li><li>Package manager: DPKG-based <strong>apt-get</strong></li><li>Ubuntu uses <strong>Unity</strong> GUI based on <strong>GNOME</strong> and has been widely used for cloud deployments.</li><li>Examples: Ubuntu</li></ul><a href=#suse><h3 id=suse><span class=hanchor arialabel=Anchor># </span>SUSE</h3></a><ul><li>Package manager: <strong>zypper</strong></li><li>Widely used in the retail/sales sector (Ex clothing stores, supermarkets).</li><li>Examples: SUSE, SUSE Linux Enterprise Server (SLES), OpenSUSE</li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/linux_distributions_tree.jpg width=auto alt></p><a href=#chapter-2-linux-philosophy-and-concepts><h1 id=chapter-2-linux-philosophy-and-concepts><span class=hanchor arialabel=Anchor># </span>Chapter 2: Linux Philosophy and Concepts</h1></a><a href=#intro-1><h2 id=intro-1><span class=hanchor arialabel=Anchor># </span>Intro</h2></a><ul><li>Linux was written to be a free and open source version of UNIX.</li><li><strong>&ldquo;All is a file&rdquo;:</strong> Linux makes its components available via files or objects that look like files. so it can be used with the same utilities used for regular files.<ul><li>Processes, devices, and network sockets are all represented by file-like objects</li><li>In Linux all files are stored in one united directory tree, starting at <strong>"/"</strong>, the system&rsquo;s <strong>root</strong> directory</li></ul></li><li><strong>Kernel:</strong> The core of the OS, it controls the HW and makes the HW interact with the Apps.</li><li><strong>Boot Loader:</strong> Program that boots/loads the OS (which is just another program). Bootloader Examples: <strong>GRUB</strong> and ISOLINUX.</li><li><strong>Service:</strong> Program that runs as a background process known as daemons.</li><li><strong>File System:</strong> Method for storing and organizing files (Ex. FAT, NTFS, ext3, ext4, etc).</li><li><strong>X Window System:</strong> Provides the toolkit and protocol to build GUIs</li><li><strong>The desktop enviroment:</strong> is a GUI on top of the OS. Ex. GNOME, Xfce, KDE&mldr;</li><li><strong>Shell:</strong> is a command line interpreter</li></ul><a href=#distribution><h2 id=distribution><span class=hanchor arialabel=Anchor># </span>Distribution</h2></a><p>A Linux Distro is combination of the kernel Linux with other system components or programs to make a Linux based OS. The programs are used for:</p><ul><li>File-related operations</li><li>User management</li><li>Software package management.</li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/linux_distro.jpg width=auto alt></p><a href=#chapter-3-linux-structure-and-installation><h1 id=chapter-3-linux-structure-and-installation><span class=hanchor arialabel=Anchor># </span>Chapter 3: Linux Structure and Installation</h1></a><a href=#filesystem><h2 id=filesystem><span class=hanchor arialabel=Anchor># </span>FileSystem</h2></a><a href=#partitions-and-filesystems><h3 id=partitions-and-filesystems><span class=hanchor arialabel=Anchor># </span>Partitions and Filesystems</h3></a><ul><li><p>The filesystem is the method used for storing and organizing arbitrary collections of data in a usable form:</p><ul><li>Conventional disk filesystem: ext3, ext4, NTFS.</li><li>Flash Storage filesystem: ubifs, JFFS2.</li><li>Database filesystem</li><li>Special puporse filesystem: sysfs, tmpfs, debugfs</li></ul></li><li><p>Partition: is <strong>logical (NOT physical)</strong> part of the Disk and the filesystem is a method for storing/finding files on that hard disk (usually in a partition).</p></li></ul><a href=#the-filesystem-hierarchy-standard><h3 id=the-filesystem-hierarchy-standard><span class=hanchor arialabel=Anchor># </span>The Filesystem Hierarchy Standard</h3></a><ul><li><p>Linux stores it&rsquo;s important files according to a standard (
<a href=http://refspecs.linuxfoundation.org/fhs.shtml rel=noopener>FHS: Filesystem Hierachy Standard</a>), this ensures a consistency, of how the system is organized, between distros.</p></li><li><p>New drives are mounted as directories in the single filesystem.</p></li><li><p>Many distributions distinguish between core utilities needed for proper system operation and other programs. This is the reason for the <code>/usr</code></p><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/fhs.jpg width=auto alt=FHS></p></li></ul><a href=#the-boot-process><h2 id=the-boot-process><span class=hanchor arialabel=Anchor># </span>The Boot process</h2></a><p>It is the procedure for initializing the system. which consist of the following steps:</p><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/linux_boot_process.jpg width=auto alt title="Boot Process"></p><a href=#1-bios-basic-inputoutput-system><h3 id=1-bios-basic-inputoutput-system><span class=hanchor arialabel=Anchor># </span>1. BIOS (Basic Input/output System):</h3></a><ul><li>The BIOS is a SW that&rsquo;s stored in ROM on the motherboard and is usually completely HW specific/dependent.</li><li>Initializes the HW (Screen, keyboard, etc.)</li><li>Tests the main memory (POST: Power On Self Test).</li></ul><a href=#2-the-bootloader-><h3 id=2-the-bootloader-><span class=hanchor arialabel=Anchor># </span>2. The Bootloader :</h3></a><ul><li>The program responsible for loading into memory the Kernel</li><li>It also loads into memory the initial RAM-based filesystem or <strong>_initramfs_</strong> so it can be used by the kernel</li><li>Common bootloaders for Linux:<ul><li><strong>GRUB</strong> (for <strong>GR</strong>and <strong>U*_nified *_B</strong>oot loader)</li><li>ISOLINUX (for booting from removable media)</li></ul></li><li>Stored on one of the partitions of one of the Hard disks in the system. It can be stored in:<ul><li>The boot sector in MBR (Master Boot Records) Systems.</li><li>UEFI or EFI (Unified Extensible Firmware Interface partition) systems.</li></ul></li></ul><a href=#stage-1><h5 id=stage-1><span class=hanchor arialabel=Anchor># </span>Stage 1:</h5></a><a href=#mbr-master-boot-record-systems><h5 id=mbr-master-boot-record-systems><span class=hanchor arialabel=Anchor># </span>MBR (Master Boot Record) Systems</h5></a><ul><li>The Bootloder resides in first sector of the hard disk known as the MBR which size is 512 bytes.</li><li>The bootloader examines the partition table and find the bootable partion.</li><li>Searches the second stage bootloader (e.g. GRUB) and loads it into RAM.</li></ul><a href=#uefiefi-unified-extended-firmware-interface-systems><h5 id=uefiefi-unified-extended-firmware-interface-systems><span class=hanchor arialabel=Anchor># </span>UEFI/EFI (Unified Extended Firmware Interface) Systems</h5></a><ul><li>Reads the BOOT Manager data to determine which UEFI application will be launched and from which disk and partition the EFI partition can be found.</li><li>Launches the found application (e.g. GRUB) and loads it into RAM.</li></ul><a href=#stage-2><h5 id=stage-2><span class=hanchor arialabel=Anchor># </span>Stage 2:</h5></a><ul><li>The second stage boot loader resides under <code>/boot</code></li><li>A screen to select an OS is presented to select the OS</li><li>The selected OS Kernel is uncompressed (Usually is compressed)</li><li>Check and analyze the system HW and initialize any HW device drivers built into the kernel.</li><li>The Kernel is loaded into RAM and the bootloader passes control to it.</li></ul><a href=#3-the-kernel><h3 id=3-the-kernel><span class=hanchor arialabel=Anchor># </span>3. The Kernel:</h3></a><ul><li>After the Kernel is loaded it initializes and configures the memory and all the HW attached to the system (processor, I/O subsystems, storage devices, etc.)</li><li>Loads some neccessary user space apps</li></ul><a href=#4-the-initial-ram-disk><h3 id=4-the-initial-ram-disk><span class=hanchor arialabel=Anchor># </span>4. The Initial RAM Disk:</h3></a><ul><li><p>The initramfs contains programs an binary files that perform all actions needed to mount the proper root filesystem</p></li><li><p>Essential programs of initramfs:</p><ul><li>udev:<ul><li>provides kernel funcionality and device drivers for mass storage controllers</li><li>responsible for figuring out the present devices and find drivers they need to operate properly</li><li>after a root filesystem is found it is checked for error and mounted</li></ul></li><li>mount:<ul><li>instructs the OS that a filesystem is ready for use and associates it with a particular point in the overall hierachy of the filesystem (mount point)?</li></ul></li></ul></li><li><p>If the essential programs are successful the initramfs is cleared from RAM and the <strong>init</strong> (/sbin/init) program on the root filesystem is executed</p></li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/initramfs.jpg width=auto alt></p><a href=#5-sbininit-and-service><h3 id=5-sbininit-and-service><span class=hanchor arialabel=Anchor># </span>5. /sbin/init and Service</h3></a><ul><li><p>Once the kernel has set up all its hardware and mounted the root filesystem, the kernel runs the <code>/sbin/init</code> program</p></li><li><p>This <code>init</code> program becomes the initial process and starts other processes to get the system running.</p><blockquote><p>Kernel processes are an exception because they are stared directly by the kernel for managing internal OS system calls</p></blockquote></li><li><p>The init program is responsible for keeping the system running and for shutting it down cleanly</p></li><li><p>Acts a manager for all the <strong>non-kernel</strong> processes, cleaning up after them and controlling and restarts users log in and out, it does the same for other background system services.</p></li><li><p>Handles the mounting and pivoting over the final real root filesystem?</p></li></ul><a href=#6-command-shell><h3 id=6-command-shell><span class=hanchor arialabel=Anchor># </span>6. Command Shell</h3></a><ul><li>init is responsible for starting a number of text-mode login prompts (ussually done by the <strong>getty</strong> program) which allow you to eventually get a command shell if the login is successful</li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/init_login.jpg width=auto alt></p><a href=#7-x-windows-system-or-x-display-manager><h3 id=7-x-windows-system-or-x-display-manager><span class=hanchor arialabel=Anchor># </span>7. X Windows System or X Display Manager</h3></a><ul><li>Usually as the final boot process step the
<a href="http://www.pepedocs.com/notes?tid=linux&nid=lfs101x#dis_mngr" rel=noopener>X Windows System</a> is loaded which is the one that calls
<a href="http://www.pepedocs.com/notes?tid=linux&nid=lfs101x#dis_mngr" rel=noopener>display manager</a> service</li></ul><a href=#selecting-a-distro><h4 id=selecting-a-distro><span class=hanchor arialabel=Anchor># </span>Selecting a distro</h4></a><ul><li>Installing a Linux distro can be done completely automatically using a config file to specify installation options (preseed file for the Debian-based systems like Ubuntu).</li><li>What packages are important</li><li>main function of the system (server, desktop, embedded)</li><li>Available disk space and HW (x86, ARM, PPC, etc.)</li><li>Support, updates and stability for release</li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/select_linux_distro.jpg width=auto alt></p><a href=#system-startup-systemd><h4 id=system-startup-systemd><span class=hanchor arialabel=Anchor># </span>System Startup (systemd)</h4></a><ul><li>It is the startup system used on most recent Linux distros</li><li>It uses configuration files, which enumerate what has to be done before a service is started, how to execute service startup, and what conditions the service should indicate have been accomplished when startup is finished</li><li>It uses the <code>systemctl</code> for most basic tasks<ul><li>start/stop/restart: <code>sudo systemctl {start|stop|restart} &lt;name_of_service></code></li><li>enable/disable: <code>sudo systemctl {enable|disable} &lt;name_of_service></code></li></ul></li></ul><a href=#chapter-4-5-graphical-interface--system-configuration-from-the-graphical-interface><h1 id=chapter-4-5-graphical-interface--system-configuration-from-the-graphical-interface><span class=hanchor arialabel=Anchor># </span>Chapter 4-5: Graphical Interface & System Configuration from the Graphical Interface</h1></a><a href=#display-manager--x-display-manager--x-windows-system><h4 id=display-manager--x-display-manager--x-windows-system><span class=hanchor arialabel=Anchor># </span>Display Manager / X Display Manager / X Windows System</h4></a><ul><li>After the X Window System is loaded it usually calls the display manager service</li><li>The Display Manager is the one responsible for:<ul><li>Display Management (Keep track of the number of displays being provided)</li><li>Loading the X Server</li><li>Manage/handle graphical logins and starts appropriate desktop environment after log in</li></ul></li><li>Ubuntu uses <strong>lightgdm</strong> display manager</li><li>The display manager is run as a service, you can stop the GUI desktop with the systemctl utility<ul><li><code>sudo systemctl {stop|start} gdm</code> (or <code>sudo telinit 3</code>)</li></ul></li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/disp_manager.jpg width=auto alt></p><a href=#desktop-enviroment><h4 id=desktop-enviroment><span class=hanchor arialabel=Anchor># </span>Desktop enviroment</h4></a><p>Consist of:</p><ul><li><strong>Session manager:</strong> Starts and maintains graphical components</li><li><strong>Window Manager:</strong> Controls the placement and movements of windows, windows title bars and controls</li><li>Usually a set of utilities, session manager, and window manager are used together as a unit to provide a desktop environment.</li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/desktop_env.jpg width=auto alt></p><blockquote><p><strong>GNOME</strong> is an example of a Desktop enviroment which uses <strong>gdm</strong> display manager</p></blockquote><a href=#system-configuration-miscellaneous-information><h4 id=system-configuration-miscellaneous-information><span class=hanchor arialabel=Anchor># </span>System Configuration Miscellaneous Information</h4></a><ul><li><strong>Nautilus:</strong> File manager browser</li><li>The X server handled by the windows X and which actually provides the GUI, uses the <code>/etc/X11/xorg.conf</code> file as its configuration file if it exists</li><li>The <strong>Network Time Protocol (NTP)</strong> is the most popular and reliable protocol for setting the local time via Internet servers (the <code>/etc/ntp.conf</code> file contains configurations for this functionality).</li><li>Linux uses <strong>Coordinated Universal Time (UTC)</strong> for its own internal time-keeping.</li><li>A deleted file is moved to the trash usually at <code>/home/user/.local/share/Trash/files</code></li><li>Find out the current screen resolution: <code>xdpyinfo | grep dim</code></li><li>the <code>init.d</code> directory is no longer used much in systemd-based systems (systemd), but is kept for backwards compatibility reasons</li></ul><a href=#chapter-6-package-management-and-common-applications><h1 id=chapter-6-package-management-and-common-applications><span class=hanchor arialabel=Anchor># </span>Chapter 6: Package Management and Common Applications</h1></a><a href=#packages-and-sw-updates><h3 id=packages-and-sw-updates><span class=hanchor arialabel=Anchor># </span>Packages and SW updates</h3></a><ul><li>A package is a piece of software that provides a piece of the system. Examples of packages:<ul><li>Linux Kernel</li><li>The C compiler</li><li>The Firefox web browser</li><li>The USB library to interact with USB devices</li></ul></li><li>Packages have dependencies from other packages that must also be downloaded and installed before installing the package with dependencies.</li><li>A package contains the files and other instructions needed to make one SW component work on the system</li></ul><a href=#package-management-system><h4 id=package-management-system><span class=hanchor arialabel=Anchor># </span>Package Management System</h4></a><ul><li><p>The packet manager is the utility that handles the downloading, unpacking and putting the unpacket pieces in the right places.</p></li><li><p>Consists of two entities: a low-level tool (such as dpkg or rpm), takes care of the details of unpacking individual packages, running scripts, getting the software installed correctly, while a high-level tool (such as apt-get, yum, or zypper) works with groups of packages, downloads packages from the vendor, and figures out dependencies</p></li><li><p>The core parts of a linux distro and most of its add-on SW are installed via a Package Management System</p></li><li><p>Debian Family System</p><ul><li><p><strong>dpkg</strong>:</p><ul><li>low-level or underlying packet manager</li><li>Unpacks, installs, removes and build packages</li><li>It can&rsquo;t download or resolve dependencies</li></ul></li><li><p><strong>Advance Package Tool (apt)</strong> :</p><ul><li><p>Build on top of <strong>dpkg</strong> (depends on it)</p></li><li><p>works with groups of packages</p></li><li><p>It can automatically download and install packages to figure out and resolve dependencies.</p></li><li><p>Tts native user interface is through the <strong>apt-get</strong> and <strong>apt-cache</strong> commands</p></li><li><p>Usually a user interface is created on top of it for an specific distro (SW update GUIs are an example of this)</p><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/pack_dep.jpg width=auto alt="Packaging Process Debian family"></p></li></ul></li></ul></li><li><p>Fedora Family System</p><ul><li><strong>Red Hat Package Manager (rpm)</strong>:<ul><li>low-level or underlying packet manager</li></ul></li><li><strong>Yellowdog Updater (yum)</strong>:<ul><li>The high-level package manager differs between distribution but yum is commonly used</li></ul></li><li><strong>Dandified Yum (dnf)</strong>:<ul><li>It is the next-generation version of yum</li></ul></li></ul></li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/linux_pack_mngr.jpg width=auto alt></p><a href=#packaging-commands><h5 id=packaging-commands><span class=hanchor arialabel=Anchor># </span>Packaging commands</h5></a><ul><li>low-level packaging commands operates on individual packages</li><li>high-level packaging commands operates on multiple packages and deal with dependencies</li></ul><p>Operation</p><p>RPM</p><p>deb</p><p>Install/Updates package</p><p><code>rpm -i foo.rpm</code></p><p><code>dpkg --install foo.deb</code></p><p>Install package, dependencies</p><p><code>yum install foo</code></p><p><code>apt-get install foo</code></p><p>Remove package</p><p><code>rpm -e foo.rpm</code></p><p><code>dpkg --remove foo.deb</code></p><p>Remove package, dependencies</p><p><code>yum remove foo</code></p><p><code>apt-get autoremove foo</code></p><p>Update package</p><p><code>rpm -U foo.rpm</code></p><p><code>dpkg --install foo.deb</code></p><p>Update package, dependencies</p><p><code>yum update foo</code></p><p><code>apt-get install foo</code></p><p>Update entire system</p><p><code>yum update</code></p><p><code>apt-get dist-upgrade</code></p><p>Show all installed packages</p><p><code>rpm -qa</code> or <code>yum list installed</code></p><p><code>dpkg --list</code></p><p>Get information on package</p><p><code>rpm -qil foo</code></p><p><code>dpkg --listfiles foo</code></p><p>Show packages named foo</p><p><code>yum list "foo"</code></p><p><code>apt-cache search foo</code></p><p>Show all available packages</p><p><code>yum list</code></p><p><code>apt-cache dumpavail foo</code></p><p>What package is file part of?</p><p><code>rpm -qf file</code></p><p><code>dpkg --search file</code></p><a href=#common-applications><h3 id=common-applications><span class=hanchor arialabel=Anchor># </span>Common Applications</h3></a><p>Application</p><p>Use</p><p>FileZilla</p><p>Intuitive graphical FTP client that supports FTP, Secure File Transfer Protocol (SFTP), and FTP Secured (FTPS). Used to transfer files to/from (FTP) servers</p><p>Pidgin</p><p>To access GTalk, AIM, ICQ, MSN, IRC and other messaging networks</p><p>Ekiga</p><p>To connect to Voice over Internet Protocol (VoIP) networks</p><p>Hexchat</p><p>To access Internet Relay Chat (IRC) networks</p><p>GIMP</p><p>GNU Image Manipulation Program s a feature-rich image retouching and editing tool similar to Photoshop</p><a href=#chapter-7-command-line-operations><h1 id=chapter-7-command-line-operations><span class=hanchor arialabel=Anchor># </span>Chapter 7: Command Line Operations</h1></a><a href=#the-command-line><h2 id=the-command-line><span class=hanchor arialabel=Anchor># </span>The command line</h2></a><ul><li><p>The most basic operation that can be done in a terminal is to execute a <strong>Command</strong> which is the name of a small program you are executing, they can have:</p><ul><li>Options: Dictates how the program will behave</li><li>Arguments: What the command operates on</li></ul></li><li><p>Programs like <strong>gnome-terminal</strong> (default Terminal emulator on GNOME) or<strong>xterm</strong> are applications that emulates/simulates a standalone terminal with a window, they behave essentially as if you were logging into the machine at a pure text terminal with no running graphical interface</p></li><li><p><strong>Virtual Terminals (VT)</strong> are console sessions that use the entire display and keyboard outside of a graphical environment. These are not the same as the command line terminal window</p><ul><li><strong>Set variables:</strong> creating variables that can be used as arguments of a command</li></ul></li><li><p>The desktop manager is simply a service that can be stopped (<code>sudo service gdm stop</code> or <code>sudo service lightdm stop</code>)</p></li><li><p>The <code>/etc/sudoers.d/&lt;user_name\></code> file is the configuration file that enables/disables user account to use sudo.</p><ul><li><code>&lt;user_name\> ALL=(ALL) ALL</code></li><li><code>chmod 440 /etc/sudoers.d/&lt;user_name\></code></li></ul></li></ul><a href=#commands-dictionary><h2 id=commands-dictionary><span class=hanchor arialabel=Anchor># </span>Commands Dictionary</h2></a><a href=#basic-operations><h3 id=basic-operations><span class=hanchor arialabel=Anchor># </span>Basic Operations</h3></a><a href=#ssh><h4 id=ssh><span class=hanchor arialabel=Anchor># </span>ssh</h4></a><ul><li><code>ssh mailto:username@remote-serve</code></li></ul><a href=#shutdown><h4 id=shutdown><span class=hanchor arialabel=Anchor># </span>shutdown</h4></a><p>Shutdown system operations:</p><ul><li><strong>halt</strong> and <strong>poweroff</strong> are equivalent to <strong>shutdown -h</strong> which shutdown the system (sudo)</li><li><strong>reboot</strong> is equivalent to <strong>shutdown -r</strong> which reboot system (sudo)</li></ul><a href=#which-and-whereis><h4 id=which-and-whereis><span class=hanchor arialabel=Anchor># </span>which and whereis</h4></a><ul><li>Executables programs ussualy live in:<ul><li><code>/bin</code></li><li><code>/usr/bin</code></li><li><code>/sbin</code></li><li><code>/usr/sbin</code></li><li><code>/opt</code></li></ul></li><li>The following commands can be used to locate programs<ul><li><strong>which:</strong> Locates a program</li><li><strong>whereis:</strong> Search for a program in broader range of system directories</li></ul></li></ul><a href=#cd-and-directory-navigation><h4 id=cd-and-directory-navigation><span class=hanchor arialabel=Anchor># </span>cd and directory navigation</h4></a><ul><li><strong>pwd:</strong> Displays current directory</li><li><strong>cd ~ /cd:</strong> Change to Home directory</li><li><strong>cd ..:</strong> Change to parent directory</li><li><strong>cd -:</strong> Change to previous directory</li><li><strong>cd /:</strong> Change to root directory</li><li><strong>ls:</strong> List content of current directory</li><li><strong>ls -a:</strong> List ALL content of current directory (include hidden files)</li><li><strong>ls -l:</strong> Use long listing format</li><li><strong>ls -i:</strong> display
<a href="http://www.pepedocs.com/notes?tid=linux&nid=lfs101x#inode_link" rel=noopener><strong>inode</strong></a></li><li><strong>tree:</strong> Display tree view of the filesystem (include files in the tree view)</li><li><strong>tree -d:</strong> Display folders in a tree view of the filesystem</li><li><strong>pushd:</strong> pushes the current directory to the history stack</li><li><strong>popd:</strong> pops the latest added directory of the history stack</li><li><strong>dirs:</strong> Displays the directories in the stack</li></ul><a href=#symbolic-links><h4 id=symbolic-links><span class=hanchor arialabel=Anchor># </span>Symbolic Links</h4></a><ul><li><strong>inode:</strong> Unique file identifier</li><li><strong>Hard links:</strong> N/A</li><li><strong>Soft links:</strong> can point to objects even on different filesystems (or partitions) which may or may not be currently available or even exist</li><li><strong>ln &lt;existent_file> &lt;name_of_link_file>:</strong> Creates hard link</li><li><strong>ln -s &lt;existent_file> &lt;name_of_link_file>:</strong> Creates soft link</li></ul><a href=#file-streams><h3 id=file-streams><span class=hanchor arialabel=Anchor># </span>File Streams</h3></a><ul><li>In Linux all open files are represented by <strong>file streams/descriptors</strong> which are just numbers used as identifiers</li><li>File streams opened by default:<ul><li><strong>stdin (0)</strong></li><li><strong>stdout (1)</strong></li><li><strong>stderr (2)</strong></li></ul></li><li>If other files are opened in addition to the default opened streams, they will start at file descriptor 3 and increase from there.</li></ul><a href=#io-redirection><h4 id=io-redirection><span class=hanchor arialabel=Anchor># </span>I/O redirection</h4></a><ul><li>we can redirect the input or output of a stream using the <strong>>*<em>, *</em>&lt;</strong> and <strong>&</strong> (File descriptor identifier) operators. Examples:<ul><li><code>do_something > output-file</code></li><li><code>do_something &lt; input-file</code></li><li><code>do_something &lt;file-descriptor-number\> > output-file</code></li><li><code>do_something > all-output-file 2>&1</code> equivalent to <code>do_something >& all-output-file</code> which redirects file descriptor 2 to 1</li></ul></li></ul><a href=#pipes-><h3 id=pipes-><span class=hanchor arialabel=Anchor># </span>Pipes (|)</h3></a><ul><li>Used to have one program take as input the output of another.</li><li>Allows to combine the actions of several commands into one using the pipe symbol <strong>|</strong><ul><li><code>command1 | command2 | command3</code></li></ul></li></ul><a href=#files><h2 id=files><span class=hanchor arialabel=Anchor># </span>Files</h2></a><a href=#searching-for-files><h3 id=searching-for-files><span class=hanchor arialabel=Anchor># </span>Searching for Files</h3></a><a href=#locate><h4 id=locate><span class=hanchor arialabel=Anchor># </span>Locate</h4></a><ul><li>Search through a previously constructed DB of files and dirs<ul><li>the DB is created by the <strong>updatedb</strong> program/command, usually automatically run by Linux (SUDO)</li></ul></li><li>Match entries with a specified string</li></ul><a href=#wildcards><h4 id=wildcards><span class=hanchor arialabel=Anchor># </span>Wildcards</h4></a><p>Used to locate a filename containing a specific character(s)</p><ul><li><strong>?:</strong> matches any <strong>single</strong> character</li><li><strong>*:</strong> matches any <strong>string</strong> character</li><li><strong>[set] and :</strong> matches any character in the set of or not (!) in the set of characters</li></ul><a href=#find><h4 id=find><span class=hanchor arialabel=Anchor># </span>find</h4></a><ul><li>Search for files<ul><li><code>find &lt;dir-to-search\> &lt;options\> &lt;input-string-no-quotes\></code></li></ul></li><li>arguments do not need quotes ""</li><li>with no arguments it lists all files in the current dir and all fof its subdirs. Common options:<ul><li>name: name</li><li>iname: name ignoring case sensitive</li><li>type: dir (d), file (f), symbolic link (I)</li></ul></li><li>find is able to run commands on the found files using the <code>-exec</code> or <code>-ok</code> the ok option asks before performing the action<ul><li><code>find -name &lt;in-string> -exec &lt;command-to-exec> {} â€™;â€™</code></li><li><code>find -name &lt;in-string> -exec &lt;command-to-exec> {} \;</code><ul><li>find based on time (N is the number of days with +/- modifier for greater/less than that number):</li><li><code>-ctime &lt;N></code>: last changed</li><li>-<code>atime &lt;N></code>: last accessed/read</li><li><code>-mtime &lt;N></code>: last modified/written</li><li>check <code>-cmin</code>, <code>-amin</code> & <code>-mmin</code> for same functionality number of minutes</li><li>find based on size (with +/- modifier for greater/less):</li><li><code>-size &lt;size\></code>: c(bytes), k(kilobytes) and M(megabytes) & G(gigabytes)</li></ul></li></ul></li></ul><a href=#file-operations><h3 id=file-operations><span class=hanchor arialabel=Anchor># </span>File operations</h3></a><a href=#viewing><h4 id=viewing><span class=hanchor arialabel=Anchor># </span>Viewing</h4></a><ul><li><strong>cat:</strong> Print content of a file no-scroll</li><li><strong>tac:</strong> Print content of a file no-scroll starting backwards</li><li><strong>less:</strong> pages and shows content of a file (/: search forward, ?: search backward)</li><li><strong>tail:</strong> print last lines of file</li><li><strong>head:</strong> print first lines of file</li></ul><a href=#createremove><h4 id=createremove><span class=hanchor arialabel=Anchor># </span>Create/Remove</h4></a><ul><li><strong>mkdir/rmdir:</strong> creates and removes EMPTY dirs.</li><li><strong>rm:</strong> removes dir or file<ul><li><code>rm -rf</code>: removes dir and all its content.</li><li><code>rm -i</code>: interactively removes dir/file (asks/promts before removing)</li></ul></li><li><strong>touch <filename>:</strong> create a file<ul><li><code>touch -t &lt;YYDDMMHHHH\> &lt;filename0\> &lt;filenameN\></code>: change timestamp of file</li></ul></li><li><strong>mv <old-name><new-name>:</strong> rename files</li></ul><a href=#command-line-prompt-string><h3 id=command-line-prompt-string><span class=hanchor arialabel=Anchor># </span>Command Line Prompt String</h3></a><ul><li>The <strong>PS1</strong> (<code>$PS1</code>) variable is the character string that is displayed as the prompt on the command line.</li></ul><a href=#chapter-8-linux-documentation><h1 id=chapter-8-linux-documentation><span class=hanchor arialabel=Anchor># </span>Chapter 8: Linux Documentation</h1></a><a href=#documentation-sources><h3 id=documentation-sources><span class=hanchor arialabel=Anchor># </span>Documentation sources</h3></a><ul><li><p><strong>The man pages:</strong></p><ul><li>Manual pages that provide in-depth doc (
<a href=http://man7.org/linux/man-pages/ rel=noopener>man pages web version</a>)</li><li>The man pages are divided into nine numbered chapters</li><li>Accessed through the <strong>man</strong> command/program that receives a topic name as an argument, searches and retrieves the information stored in the topic&rsquo;s man pages:<ul><li><strong>man &lt;string_topic>:</strong> Returns the man page of the topic</li><li><strong>whatis</strong> or <strong>man â€“f &lt;string_topic>:</strong> Returns the man pages containing the given string in their name</li><li><strong>apropos</strong> or <strong>man â€“k:</strong> Returns the man pages that discuss the given subject</li><li><strong>man <n>&lt;string_topic>:</strong> Display the page from a particular chapter</li><li><strong>man -a &lt;string_topic>:</strong> Display all pages with the given name in all chapters,</li></ul></li></ul></li><li><p><strong>GNU Info:</strong></p><ul><li>This is the GNU project&rsquo;s standard documentation format</li><li>Can be accessed through the info command.<ul><li><strong>info <topic>:</strong> Shows the info page for the specifed topic</li></ul></li><li>The n (next), p (prev) and u (up index) are used to move between nodes (info pages)</li></ul></li><li><p><strong>The help command and &ndash;help option:</strong></p><ul><li>Option to use with other command to display a quick reference information<ul><li><strong>man &ndash;help</strong></li></ul></li></ul></li><li><p><strong>Other Sources:</strong></p><ul><li><code>gnome-help</code>: GUI based Linux Help System</li><li>The <code>/usr/share/doc</code> contains docs of the installed packages</li><li>web pages like:<ul><li><a href=https://help.ubuntu.com/ rel=noopener>help.ubuntu.com</a></li><li><a href=http://linuxcommand.org/tlcl.php rel=noopener>LinuxCommand.org</a></li></ul></li></ul></li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/linux_doc.jpg width=auto alt></p><a href=#chapter-9-processes><h1 id=chapter-9-processes><span class=hanchor arialabel=Anchor># </span>Chapter 9: Processes</h1></a><a href=#intro-2><h2 id=intro-2><span class=hanchor arialabel=Anchor># </span>Intro</h2></a><ul><li>All the application programs we are running are processes. Some processes are independent of each other and others are related</li><li><strong>Process</strong>: It&rsquo;s an instance of one or more related tasks (threads) executing on your computer. A process uses system&rsquo;s resources (memory, CPU, peripherals, etc) through the OS specially the Kernel which is responsible for allocating a proper share of these resources to each process and ensuring overall optimum utilization</li><li><strong>Program</strong>: or a <strong>command</strong>, it&rsquo;s NOT the same as a process but it can start several process simultanmeoulsy</li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/proc_kernel.jpg width=auto alt></p><a href=#process-types><h2 id=process-types><span class=hanchor arialabel=Anchor># </span>Process Types</h2></a><p>Process can be of different types according to the task being performed</p><ul><li><strong>Interactive process</strong>:<ul><li>Need to be started by an user.</li><li>Examples: bash, firefox, top&mldr;</li></ul></li><li><strong>Batch process</strong>:<ul><li>Automatic processes which are scheduled from and then disconnected from the terminal. Work on a FIFO scheme.</li><li>Examples: updatedb</li></ul></li><li><strong>Daemons</strong>:<ul><li>Server process that run continuously usually in the background</li><li>Many are launched during system startup and wait for requests of their services.</li><li>Examples: httpd, xinetd, sshd&mldr;</li></ul></li><li><strong>Threads</strong>:<ul><li>Lightweight processes</li><li>These are tasks that run under the umbrella of a main process, sharing memory and other resources</li><li>Usually started from another main process to process data in parallel</li><li>Examples: firefox, gnome-terminal-server&mldr;</li></ul></li><li><strong>Kernel Threads</strong>:<ul><li>Not started nor terminated by the user. Perform kernel actions like moving a thread from one CPU to another or making sure I/O operations are completed</li><li>Examples: kthreadd, migration, ksoftirqd&mldr;</li></ul></li></ul><a href=#scheduling-process><h3 id=scheduling-process><span class=hanchor arialabel=Anchor># </span>Scheduling Process</h3></a><ul><li>A critical kernel function called the scheduler constantly shares the CPU between processes</li><li>Process Status:<ul><li><strong>running:</strong> means it is either currently executing instructions on a CPU, or is waiting to be granted a share of time. On a run queue</li><li><strong>sleep:</strong> generally when they are waiting for something to happen before they can resume. On a wait queue</li><li><strong>zombie:</strong> if a child process completes, but its parent process has not asked about its state</li></ul></li><li>The <strong>priority</strong> for a process can be set by specifying a <strong>nice value</strong>, or <strong>niceness</strong>, for the process. The lower the nice value, the higher the priority. A nice value of -20 represents the highest priority and 19 represents the lowest.</li></ul><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/proc_sched.jpg width=auto alt></p><a href=#identifiers><h3 id=identifiers><span class=hanchor arialabel=Anchor># </span>Identifiers</h3></a><ul><li><strong>PID (Process ID)</strong>: Unique ID that identifies the process, used to track process state, CPU usage, memory usage, where resources are located in memory, etc.<ul><li>PID=1 denotes the <strong>/sbin/init</strong> process</li></ul></li><li><strong>PPID (Parent Process ID)</strong>: Process (Parent) that started this process</li><li><strong>TID (Thread ID)</strong>:<ul><li>The same as PID for single-threaded processes</li><li>For multi-threaded process each shares same PID but has unique TID</li></ul></li><li><strong>RUID (Real User ID)</strong>: Identifies the user who starts the process</li><li><strong>EUID (Effective User ID)</strong>: Identifies the user who determines the rights for a user</li><li><strong>RGID (Real Group ID)</strong>: Identifies the group that starts the process</li><li><strong>EGID (Effective Group ID)</strong>: Identifies the Group that determines the rights for a group</li></ul><a href=#process-commands><h3 id=process-commands><span class=hanchor arialabel=Anchor># </span>Process Commands</h3></a><ul><li><p><code>ps</code> is the most common command to get information about the running processes</p><ul><li><code>-u</code>: option to display information of process for a specified user name</li><li><code>-ef</code>: option display in detail all process in full detail</li><li><code>-eLf</code>: displays on line of info for every thread (a process can have multiple threads)</li><li><code>ps aux</code>: Displays all processes of all users</li><li><code>ps axo &lt;options></code>: specify which attributes you want to view like: stat, priority, pid, pcpu, comm</li></ul></li><li><p><code>top</code> for monitoring live updating info. It also provides interactive keys like: <code>A</code> (sort top consumers), <code>k</code> (kill), <code>o</code> (new sort option), &mldr;</p></li><li><p>The <code>pstree</code> displays the processes running on the system in the form of a tree diagram showing the relationship between a process and its parent process, threads are displayed {} and repeated process are not displayed</p></li><li><p>To kill a process we can use the <code>kill</code> command but you can only do this to your own process those belonging to another user are offlimit unless you are roor</p><ul><li><code>kill -SIGKILL &lt;pid></code></li></ul></li><li><p><strong>Load average</strong>: Determines how busy the system is, can be obtained with <code>w</code>, <code>top</code> or <code>uptime</code> and presents in 3 numbers average over the past 1 minute, over the past 5 minutes and over the past 15 minutes:</p><ul><li><strong>==1*NUM_CPUs</strong>: Fully subscribed but not overloaded</li><li><strong>>1*NUM_CPUs</strong> : Overloaded, process are competing for CPU time</li><li><strong>&lt;1*NUM_CPUs</strong> : Under-loaded</li></ul></li><li><p>the <code>at</code> utility program is used to execute any non-interactive command at a specified time. You can see queued jobs with <code>atq</code> Ex:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>      at now + 2 days
</span></span><span class=line><span class=cl>      commands
</span></span><span class=line><span class=cl>      ...
</span></span></code></pre></td></tr></table></div></div></li></ul><a href=#cron><h4 id=cron><span class=hanchor arialabel=Anchor># </span>cron</h4></a><ul><li>it is a time-based scheduling utility program. It can launch routine background jobs at specific times and/or days on an on-going basis</li><li>cron is driven by a configuration file <code>/etc/crontab</code> (cron table) which contains the various shell commands that need to be run at the properly scheduled times</li><li>Each line of a crontab file represents a job, and is composed of a so-called CRON expression, followed by a shell command to execute (6 fields in total).</li><li><code>/etc/crontab</code> is the system wide crontab</li><li><code>crontab -e</code> edits the user crontab, these are crontab per user files stores in <code>/var/spool/cron/crontabs/&lt;username></code><ul><li>use <code>sudo crontab -e</code> to edit the root crontab</li></ul></li></ul><p>Field</p><p>Description</p><p>Values</p><p>MIN</p><p>Minutes</p><p>0 to 59</p><p>HOUR</p><p>Hour</p><p>0 to 23</p><p>DOM</p><p>Day of Month</p><p>1-31</p><p>MON</p><p>Month field</p><p>1-12</p><p>DOW</p><p>Day Of Week</p><p>0-6 (0 = Sunday)</p><p>CMD</p><p>Command</p><p>Any command to be executed</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>30 08 10 06 * /home/user/script.sh # run the script.sh at 8.30am, 10-June, irrespective of the day of the week.
</span></span></code></pre></td></tr></table></div></div><a href=#background-and-foreground-processes><h4 id=background-and-foreground-processes><span class=hanchor arialabel=Anchor># </span>Background and Foreground Processes</h4></a><ul><li>A <strong>job</strong> is just a command launched from a terminal window</li><li><strong>Foreground</strong> jobs run directly from the shell/GUI, and when one foreground job is running, other jobs need to wait for shell/GUI access</li><li><strong>Background</strong> jobs run with a lower priority which does no lock the shell/GUI</li><li>by default all jobs are executed in the foreground. Use the <code>&</code> operator to put a job in the background or the <code>bg</code> and <code>fg</code> commands to run a process in the background and foreground,</li><li>background jobs are connected to the terminal window if you log off, the jobs utility will not show the ones started from that window.</li><li>The <strong>jobs -l</strong> utility can be use to view all the jobs running in the background</li></ul><a href=#chapter-10-file-operations-and-filesystems><h1 id=chapter-10-file-operations-and-filesystems><span class=hanchor arialabel=Anchor># </span>Chapter 10: File Operations and Filesystems</h1></a><a href=#files-and-filesystems><h2 id=files-and-filesystems><span class=hanchor arialabel=Anchor># </span>Files and Filesystems</h2></a><ul><li>In Linux (and all UNIX-like OS) everything is treated as a file (it doesn&rsquo;t mean it actually is a file)</li><li>Whether you are dealing with normal data files and documents, or with devices such as sound cards and printers, you interact with them through the same kind of Interfaces and/or Input/Output (I/O) operations.</li><li>The Linux filesystem is a tree that starts at the <strong>trunk</strong> or <strong>root (/)</strong></li></ul><a href=#filesystem-hierarchy-standard-fhs><h3 id=filesystem-hierarchy-standard-fhs><span class=hanchor arialabel=Anchor># </span>Filesystem Hierarchy Standard (FHS)</h3></a><ul><li>Provides a standadrd directory structure for the FS which provides consistency between systems and distros. Check
<a href=http://www.pathname.com/fhs/ rel=noopener>FHS</a> for more info.</li><li>Linux support various filesystems:<ul><li>Native Linux filesystems: ext3, ext4, btrfs, xfs<ul><li>filesystems from other operating systems: vfat, ntfs, hfs</li></ul></li></ul></li></ul><a href=#partitions><h3 id=partitions><span class=hanchor arialabel=Anchor># </span>Partitions</h3></a><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/partition_ex.jpg width=auto alt title="Partitions example"></p><ul><li>Each filesystem resides on a hard disk partition</li><li>The partitions help organize data according to the kind of data contained and how it is used. For example:<ul><li>important data in a root partition</li><li>user files in home partition</li><li>temp files in a tmp partition.</li></ul></li></ul><a href=#mount-and-mount-points><h4 id=mount-and-mount-points><span class=hanchor arialabel=Anchor># </span>Mount and Mount points</h4></a><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/mount_points_ex.jpg width=auto alt title="Mount points diagram example"></p><ul><li><strong>Mount/Mounting</strong> is the operation that must be performed to start using a filesystem. It must be done at a <strong>mount point</strong> which simply is a directory where the filesystem will be attached (mounted)</li><li>device-node: reference to partition with a filesystem in a device</li><li>The mounting and retrieving partitions info:<ul><li><strong>mount <device-node><mount-point>:</strong> mounts a filesystem (SUDO)</li><li><strong>mount :</strong> Shows all presently mounted filesystems</li><li><strong>df -Th:</strong> will display information about mounted filesystems</li></ul></li><li>The <code>/etc/fstab</code> file contains the filesystem table that contains the filesystems that will be mounted and configured automatically by the system.</li><li>The <code>mount</code> command without options and arguments will list all of the currently mounted filesystems, along with information that will indicate whether they are mounted as read-only or writable</li></ul><blockquote><p>warning: If you mount a filesystem on a non-empty directory, the former contents of that directory are covered-up and not accessible until the filesystem is unmounted. Thus mount points are usually empty directories.</p></blockquote><a href=#network-filesystem-nfs><h4 id=network-filesystem-nfs><span class=hanchor arialabel=Anchor># </span>Network Filesystem (NFS)</h4></a><ul><li>Mounting a home local directory on a server allows an user to have access to shared files or resources because other users home directories can also be mounted on the server</li></ul><a href=#nfs-on-the-server><h5 id=nfs-on-the-server><span class=hanchor arialabel=Anchor># </span>NFS on the server</h5></a><ul><li>the <code>etc/exports</code> file contains the directories and permissions that a host is willing to share with other systems over NFS. Entry file format:<ul><li>*.<domain>(<permisions>). Ecample <code>/projects *.example.com(rw)</code></li></ul></li><li>To share a directory using NFS on the server:<ul><li>starts NFS services: <code>sudo systemctl start nfs</code></li><li>modify <code>etc/exports</code> file appropriately</li><li>notify update: <code>exportfs -av</code> or <code>sudo systemctl restart nfs</code></li></ul></li></ul><a href=#nfs-on-the-client><h5 id=nfs-on-the-client><span class=hanchor arialabel=Anchor># </span>NFS on the client</h5></a><ul><li>To share a directory using NFS on the client:<ul><li>mount the NFS:<ul><li>modify <code>/etc/fstab</code> file:<ul><li><code>servername:/projects /mnt/nfs/projects nfs defaults 0 0</code></li></ul></li><li>manually mount the NFS:<ul><li><code>sudo mount servername:/projects /mnt/nfs/projects</code></li></ul></li></ul></li></ul></li></ul><a href=#proc-filesystem><h4 id=proc-filesystem><span class=hanchor arialabel=Anchor># </span>proc Filesystem</h4></a><ul><li>It&rsquo;s a pseudo filesystem because it has no permanent presence on disk</li><li>Mounted on <code>/proc</code></li><li>Contains virtual files (exists only in volatile memory) that permit viewing constantly varying kernel data</li><li>Contains files and dirs that mimic kernel data structs and config info so it can be viewed.</li><li>Contains runtime system info like: system memory, devices mounted, hardware configuration, etc</li><li>It does <code>NOT</code> contain real files, but runtime system information</li><li>There is a directory for every process (<code>/proc/&lt;Process-ID-#></code>)</li><li>The information on proc is never stored permanently on disk</li><li>Important files:<ul><li><code>/proc/cpuinfo</code></li><li><code>/proc/interrupts</code></li><li><code>/proc/meminfo</code></li><li><code>/proc/mounts</code></li><li><code>/proc/partitions</code></li><li><code>/proc/version</code></li><li><code>/proc/sys</code></li></ul></li></ul><a href=#filesystem-architecture><h3 id=filesystem-architecture><span class=hanchor arialabel=Anchor># </span>Filesystem architecture</h3></a><ul><li>Each user has a home directory under /home</li><li>the /root dir is just the root user&rsquo;s home directory</li><li>The /home dir is usually mounted as a separated FS on its or shared remotely though NFS</li></ul><a href=#linux-directories><h3 id=linux-directories><span class=hanchor arialabel=Anchor># </span>Linux Directories</h3></a><a href=#bin-and-sbin><h4 id=bin-and-sbin><span class=hanchor arialabel=Anchor># </span>/bin and /sbin</h4></a><ul><li><strong>/bin:</strong> Contains executable binaries and essential commands required by all system users</li><li><strong>/sbin:</strong> Contains essential binaries related to system administration</li><li><strong>/usr/bin:</strong> Contains non-essential commands used in single-user mode</li><li><strong>/usr/sbin:</strong> Less essential system admin programs</li></ul><blockquote><p>On the newest Linus distributions, /usr/bin and /bin are actually just symbolically linked together, as are /usr/sbin and /sbin.</p></blockquote><a href=#dev><h4 id=dev><span class=hanchor arialabel=Anchor># </span>/dev</h4></a><ul><li>Contains <strong>device nodes</strong> which are pseudo files used by most HW and SW devices except for network devices.</li><li>Contains entries created by the <strong>udev</strong> system which creates and manages device nodes on Linux when devices are found. eg:<ul><li>/dev/sda1 (first partition on the first hard disk)</li><li>/dev/lp1 (second printer)</li><li>/dev/dvd1 (first DVD drive)</li></ul></li></ul><a href=#var-and-etc><h4 id=var-and-etc><span class=hanchor arialabel=Anchor># </span>/var and /etc</h4></a><ul><li><strong>/var:</strong> Contains files expected to change in size and content as the system is running.<ul><li>System log files: <code>/var/log</code></li><li>Packages and database files: <code>/var/lib</code></li><li>Print queues: <code>/var/spool</code></li><li>Temp files: <code>/var/tmp</code></li></ul></li><li><strong>/etc:</strong> Home for the system configuration files. It does not contain binary programs<ul><li><code>resolv.conf</code> tells the system where to go on the network to obtain host name to IP address mappings (DNS)</li><li><code>passwd</code>, <code>shadow</code> and <code>group</code> are for managing user accounts</li><li>System run level scripts are found in subdirectories</li></ul></li></ul><a href=#boot><h4 id=boot><span class=hanchor arialabel=Anchor># </span>/boot</h4></a><ul><li>Contains essential files needed to boot the system. For every alternative kernel installed on the system there are four files:<ol><li><strong>vmlinuz:</strong> the compressed Linux kernel, required for booting</li><li><strong>initramfs:</strong> the initial ram filesystem, required for booting, sometimes called initrd, not initramfs</li><li><strong>config:</strong> the kernel configuration file, only used for debugging and bookkeeping</li><li><strong>System.map:</strong> kernel symbol table, only used for debugging</li></ol></li></ul><blockquote><p>Each of the boot files has a kernel version appended to its name.</p></blockquote><ul><li>It also contains the <strong>Grand Unified Bootloader (GRUB)</strong> files (such as /boot/grub/grub.conf or /boot/grub2/grub2.cfg)</li></ul><a href=#lib-and-media-run-mnt><h4 id=lib-and-media-run-mnt><span class=hanchor arialabel=Anchor># </span>/lib and /media, /run, /mnt</h4></a><ul><li><strong>/lib:</strong><ul><li>Contains libraries for the essential programs in <code>/bin</code> and <code>/sbin</code>.</li><li>Contains the dynamically loaded libraries (a.k.a. shared libraries or Shared Objects (SO)).</li><li>Kernel modules (kernel code, often device drivers, that can be loaded and unloaded without re-starting the system) are located in <code>/lib/modules</code>.</li></ul></li><li><strong>/media:</strong> The directory where removable media, such as CDs, DVDs and USB drives are mounted<ul><li>Newer Linux distributions place these mount points under the <code>/run</code> or <code>/run/media</code> directory.<ul><li><strong>/mnt:</strong> Used for temporarily mounting filesystems like network filesystems with NFS, not normally mounted or temporary partitions.</li></ul></li></ul></li></ul><a href=#other-dirs><h4 id=other-dirs><span class=hanchor arialabel=Anchor># </span>Other dirs</h4></a><ul><li><strong>/opt:</strong> optional app SW packages.</li><li><strong>/sys:</strong> virtual filesystem that gives information about the system and HW (for param HW config and debugging).</li><li><strong>/srv:</strong> site specifa data used by the system.</li><li><strong>/tmp:</strong> temporary files.</li><li><strong>/usr:</strong> Multi-user applications utilities, non-essential (not needed to boot) programs and scripts.<ul><li><strong>/usr/include:</strong> Header files used to compile applications.</li><li><strong>/usr/lib:</strong> Libraries for programs in <code>/usr/bin</code> and <code>/usr/sbin</code>.</li><li><strong>/usr/lib64:</strong> 64-bit libraries for 64-bit programs in <code>/usr/bin</code> and <code>/usr/sbin</code>.</li><li><strong>/usr/sbin:</strong> Non-essential system binaries, such as system daemons.</li><li><strong>/usr/share:</strong> Shared data used by applications, generally architecture-independent.</li><li><strong>/usr/src:</strong> Source code, usually for the Linux kernel.</li><li><strong>/usr/X11R6:</strong> X Window configuration files; generally obsolete.</li><li><strong>/usr/local:</strong> Data and programs specific to the local machine. Subdirectories include <code>bin</code>, <code>sbin</code>, <code>lib</code>, share, include, etc.</li><li><strong>/usr/bin:</strong> This is the primary directory of executable commands on the system.</li></ul></li></ul><p>whats the difference between /sys and /proc/sys</p><a href=#managing-files-and-dirs><h3 id=managing-files-and-dirs><span class=hanchor arialabel=Anchor># </span>Managing Files and Dirs</h3></a><a href=#diff-and-diff3><h4 id=diff-and-diff3><span class=hanchor arialabel=Anchor># </span>diff and diff3</h4></a><ul><li><strong>diff :</strong> used to compare files.</li><li><strong>diff -c <filename1><filename2>:</strong> compare files including context lines.</li><li><strong>diff -r <filename1><filename2>:</strong> compare dirs and files recursively.</li><li><strong>diff -i <filename1><filename2>:</strong> ignore case of letters</li><li><strong>diff -w <filename1><filename2>:</strong> ignore differences in tabs and spaces</li><li><strong>diff3 <my-file><common-file><others-file>:</strong> compare 3 files at once using one a base</li></ul><a href=#patch--patches><h4 id=patch--patches><span class=hanchor arialabel=Anchor># </span>patch & patches</h4></a><ul><li>a <strong>patch</strong> is a file that contains <strong>deltas</strong> which are changes required to update a file.<ul><li><strong>diff -Nur &lt;original_file> <newfile>&lt;patchfile_name>:</strong> Creates a patch</li><li><strong>patch -p1 &lt; patchfile:</strong> Apply patch to the entire directory</li><li><strong>patch originalfile patchfile:</strong> Apply patch to specific file</li></ul></li></ul><a href=#file-utility><h4 id=file-utility><span class=hanchor arialabel=Anchor># </span>file utility</h4></a><ul><li>The extension of a files does not determine the real nature of a file (a .txt can actually be an executable). So the <strong>file</strong> utility is used for this reason</li></ul><blockquote><p>It is a good practice to use the <code>-dry-run</code> option with the <code>patch</code> and <code>rsync</code> commands to test</p></blockquote><a href=#backing-up-and-compressing-data><h3 id=backing-up-and-compressing-data><span class=hanchor arialabel=Anchor># </span>Backing up and Compressing Data</h3></a><a href=#backing-up><h4 id=backing-up><span class=hanchor arialabel=Anchor># </span>Backing-up</h4></a><ul><li><strong>rsync <source><destination>:</strong> Used to synchronize entire directory trees,usually used with <code>-r</code> option (Basically a copy/backup command). the source and destination can be on a local machine or in a network machine</li></ul><a href=#compressing><h4 id=compressing><span class=hanchor arialabel=Anchor># </span>Compressing</h4></a><p>In Linux there are several method for compressing data:</p><ul><li><strong>gzip:</strong> Most used and very fast, produces <code>.gz</code> compressed files:<ul><li><strong>gzip * <uncompressed-file>:</strong> compress all files in the given dir (current dir by default), each file is compressed an renamed with <code>.gz</code> extension. use <code>-r</code> option to include the files inside directories in the compresion.</li><li><strong>gzip -d <compressed-file></strong>or <strong>gunzip <compressed-file>:</strong> decompress</li></ul></li><li><strong>bzip2:</strong> More space efficient than gzip but slower, same syntax and produces <code>.bz2</code> compressed files.</li><li><strong>xz:</strong> Most space efficient but also very slow, usually removes the input dir/file if operation succeeds and produces <code>.xz</code> compressed files:<ul><li><strong>xz <uncompressed-file>:</strong> compress the given dir/file (default compression level = -6).</li><li>use <code>-k</code> option to avoid removing dir/file if the operation succeds</li><li>use <code>-d</code> option for decompression</li></ul></li><li><strong>zip:</strong> Used for compatibility with other OS used by Linux.<ul><li><strong>zip <zip-name>.zip <dir>:</strong> compress the given dir/file an places its content in the .zip with the given name. if the .zip aleady exists by default it appends new content an replaces content with the same name.</li><li><strong>unzip <zip-name>.zip -d <extract-dir>:</strong> extracts contents df .zip file and places them in the given directory</li></ul></li><li><strong>tar (&ldquo;tape archive&rdquo;):</strong> used to group files in an archive called <strong>tarball</strong>. It can optionally compress while creating the archive or decompress while extracting:<ul><li><strong>tar -xvf <input>.tar/.gz:</strong> Extracts files in the given tar and places into a dir with the same name. It can be a <code>.tar</code> or a <code>.tar.gz/tgz</code></li><li><strong>tar -cvf<output>.tar <input-dir>:</strong> Creates and archive</li><li><strong>tar -zcvf<output>.tar.gz/tgz <input-dir>:</strong> Creates and archive and compress it with <code>gzip</code></li><li><strong>tar -jcvf<output>.tar.bz2/tbz <input-dir>:</strong> Creates and archive and compress it with <code>bz2</code></li><li><strong>tar -Jcvf<output>.tar.xz/txz <input-dir>:</strong> Creates and archive and compress it with <code>xz</code></li></ul></li></ul><a href=#disk-to-disk-copying-dd><h4 id=disk-to-disk-copying-dd><span class=hanchor arialabel=Anchor># </span>Disk-to-Disk Copying (dd)</h4></a><ul><li>The <strong>dd</strong> program is very useful for copying raw data (disk space).</li><li>Use carefully because raw copy basically erases and replaces the data<ul><li><strong>dd if= of= bs= count=<num-blocks></strong></li></ul></li></ul><a href=#chapter-11-text-editors><h1 id=chapter-11-text-editors><span class=hanchor arialabel=Anchor># </span>Chapter 11: Text Editors</h1></a><a href=#creating-files-without-using-an-editor><h3 id=creating-files-without-using-an-editor><span class=hanchor arialabel=Anchor># </span>Creating Files Without Using an Editor</h3></a><a href=#echo><h4 id=echo><span class=hanchor arialabel=Anchor># </span>echo</h4></a><p>Use <code>echo</code> to redirect the output to file, creating it at the same time, then appending lines to it.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>echo line one &gt; myfile
</span></span><span class=line><span class=cl>echo line two &gt;&gt; myfile
</span></span><span class=line><span class=cl>echo line three &gt;&gt; myfile
</span></span></code></pre></td></tr></table></div></div><a href=#cat><h4 id=cat><span class=hanchor arialabel=Anchor># </span>cat</h4></a><p>use <code>cat</code> and redirection</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cat &lt;&lt; EOF &gt; myfile
</span></span><span class=line><span class=cl>&gt; line one
</span></span><span class=line><span class=cl>&gt; line two
</span></span><span class=line><span class=cl>&gt; line three
</span></span><span class=line><span class=cl>&gt; EOF
</span></span></code></pre></td></tr></table></div></div><a href=#basic-text-editors-nano-and-gedit><h3 id=basic-text-editors-nano-and-gedit><span class=hanchor arialabel=Anchor># </span>Basic Text Editors: nano and gedit</h3></a><a href=#nano><h4 id=nano><span class=hanchor arialabel=Anchor># </span>nano</h4></a><ul><li>Text-terminal based editor that displays all the help you need at the bottom</li><li>use the <code>nano</code> command to create a file and starts editing<ul><li><code>nano &lt;filename></code></li></ul></li></ul><a href=#gedit><h4 id=gedit><span class=hanchor arialabel=Anchor># </span>gedit</h4></a><ul><li>Graphical editor that needs a Graphical Desktop environment to run</li><li>use the <code>gedit</code> command to create a file and starts the <strong>gedit</strong> graphical interface<ul><li><code>gedit &lt;filename></code></li></ul></li></ul><a href=#advanced-text-editors><h3 id=advanced-text-editors><span class=hanchor arialabel=Anchor># </span>Advanced Text Editors</h3></a><p><strong>vi</strong> and <strong>emacs</strong> are more advanced text editors and have a basic purely text-based form that can run in a non-graphical environment.</p><a href=#vi><h3 id=vi><span class=hanchor arialabel=Anchor># </span>vi</h3></a><ul><li>Usually the actual program installed on the system is <strong>vim</strong> (vi Improved)</li><li><strong>gvim</strong> is a extended graphical interface version of <strong>vi</strong></li><li>All commands are entered through the keyboard</li></ul><a href=#vi-modes><h4 id=vi-modes><span class=hanchor arialabel=Anchor># </span>vi modes</h4></a><ol><li><strong>Command:</strong><ul><li>It&rsquo;s the starting/default mode</li><li>Each key is and editor command that can modify file contents</li></ul></li><li><strong>Insert:</strong><ul><li>Type <code>i</code> to enter to <em>Insert</em> mode and <code>Esc</code> to exit. This mode is indicated by an <strong>? INSERT ?</strong> at the bottom of the screen.</li><li>Used to insert text into a file</li></ul></li><li><strong>Line:</strong><ul><li>Type <code>:</code> to enter to <em>Line</em> mode and <code>Esc</code> to exit</li><li>Each key is and external command that includes operations such as writing file contents and exiting</li></ul></li></ol><p><strong>vi</strong> useful commands:</p><ul><li><code>vi myfile</code>: Start the vi editor and edit the myfile file</li><li><code>vi -r &lt;file-name></code>: Start vi and edit myfile in recovery mode from a system crash</li><li><code>:r &lt;file-name></code>: Read in the given file and insert at current position</li><li><code>:w! &lt;file-name></code>: Overwrite given file</li><li><code>:x</code> or <code>:wq</code>: Exit vi and write out modified file</li><li><code>:q</code>: Quit vi</li><li><code>:q!</code>: Quit vi even though modifications have not been saved</li><li><code>:0</code>: To move to beginning of file</li><li><code>:n</code>: To move to line n</li><li><code>:$</code> or <code>G</code>: To move to last line in file</li><li><code>^l</code>: To refresh and center screen</li><li><code>CTRL-F</code> or <code>Page Down</code>: To move forward one page</li><li><code>CTRL-B</code> or <code>Page Up</code>: To move backward one page</li><li><code>j</code>: To move one line down</li><li><code>k</code>: To move one line up</li><li><code>h</code> or <code>Backspace</code>: To move one character left</li><li><code>l</code> or <code>Space</code>: To move one character right</li><li><code>0</code>: To move to beginning of line</li><li><code>$</code>: To move to end of line</li><li><code>w</code>: To move to beginning of next word</li><li><code>a</code>: Append text after cursor; stop upon Escape key</li><li><code>A</code>: Append text at end of current line; stop upon Escape key</li><li><code>i</code>: Insert text before cursor; stop upon Escape key</li><li><code>I</code>: Insert text at beginning of current line; stop upon Escape key</li><li><code>o</code>: Start a new line below current line, insert text there; stop upon Escape key</li><li><code>O</code>: Start a new line above current line, insert text there; stop upon Escape key</li><li><code>r</code>: Replace character at current position</li><li><code>R</code>: Replace text starting with current position; stop upon Escape key</li><li><code>x</code>: Delete character at current position</li><li><code>x</code>: Delete N characters, starting at current position</li><li><code>w</code>: Delete the word at the current position</li><li><code>D</code>: Delete the rest of the current line</li><li><code>d</code>: Delete the current line</li><li><code>Ndd</code> or <code>dNd</code>: Delete N lines</li><li><code>u</code>: Undo the previous operation</li><li><code>yy</code>: Yank (copy) the current line and put it in buffer</li><li><code>Nyy</code> or <code>yNy</code>: Yank (copy) N lines and put it in buffer</li><li><code>p</code>: Paste at the current position the yanked line or lines from the buffer.</li><li><code>!</code>: Executes a command from within vim</li><li><code>%</code>: Represents the file currently being edited.</li><li>Search:<ul><li><code>/pattern</code>: Search forward for pattern</li><li><code>?pattern</code>: Search backward for pattern</li><li><code>n</code>: Move to next occurrence of search pattern</li><li><code>N</code>: Move to previous occurrence of search pattern</li></ul></li></ul><a href=#emacs><h3 id=emacs><span class=hanchor arialabel=Anchor># </span>emacs</h3></a><ul><li>Uses the <strong>CTRL</strong> and <strong>Meta</strong> (<strong>Alt</strong> or <strong>Esc</strong>) keys for special</li></ul><p><strong>vi</strong> useful commands:</p><ul><li><code>emacs myfile</code>: Start emacs and edit myfile</li><li><code>CTRL-x i</code>: Insert prompted for file at current position</li><li><code>CTRL-x s</code>: Save all files</li><li><code>CTRL-x CTRL-w</code> Write to the file giving a new name when prompted</li><li><code>CTRL-x CTRL-s</code>: Saves the current file</li><li><code>CTRL-x CTRL-c</code>: Exit after being prompted to save any modified files</li><li><code>arrow keys</code>: Use the arrow keys for up, down, left and right</li><li><code>CTRL-n</code>: One line down</li><li><code>CTRL-p</code>: One line up</li><li><code>CTRL-f</code>: One character forward/right</li><li><code>CTRL-b</code>: One character back/left</li><li><code>CTRL-a</code>: Move to beginning of line</li><li><code>CTRL-e</code>: Move to end of line</li><li><code>Meta-f</code>: Move to beginning of next word</li><li><code>Meta-b</code>: Move back to beginning of preceding word</li><li><code>Meta-&lt;</code>: Move to beginning of file</li><li><code>Meta-g-g-n</code>: Move to line n (can also use &lsquo;Esc-x Goto-line n&rsquo;)</li><li><code>Meta-></code>: Move to end of file</li><li><code>CTRL-v</code> or <code>Page Down</code>: Move forward one page</li><li><code>Meta-v or Page Up</code>: Move backward one page</li><li><code>CTRL-l</code>: Refresh and center screen</li><li><code>CTRL-s</code>: Search forward for prompted pattern, or for next pattern</li><li><code>CTRL-r</code>: Search backwards for prompted pattern, or for next pattern</li><li><code>CTRL-o</code>: Insert a blank line</li><li><code>CTRL-d</code>: Delete character at current position</li><li><code>CTRL-k</code>: Delete the rest of the current line</li><li><code>CTRL-_</code>: Undo the previous operation</li><li><code>CTRL- (space or CTRL-@)</code>: Mark the beginning of the selected region. The end will be at the cursor position</li><li><code>CTRL-w</code>: Delete the current marked text and write it to the buffer</li><li><code>CTRL-y</code>: Insert at current cursor location whatever was most recently deleted</li></ul><a href=#chapter-12-user-environment><h1 id=chapter-12-user-environment><span class=hanchor arialabel=Anchor># </span>Chapter 12: User Environment</h1></a><a href=#users-and-groups><h2 id=users-and-groups><span class=hanchor arialabel=Anchor># </span>Users and Groups</h2></a><ul><li>The <code>whoami</code>, <code>who</code> and <code>who -a</code> commands are used to identify the current user and the currently logged-on users</li><li><code>id</code> can be used to get information about the current user</li><li><strong>groups:</strong> Collections of accounts with certain shared permissions, rights or privileges used by Linux to organize users.<ul><li>the <code>/etc/group</code> has a list of groups, members of the groups and who controls the group</li></ul></li><li>Groups are collections of accounts with certain shared permissions.</li><li>Every user has a unique user ID (<strong>uid</strong>) and a group ID (<strong>gid</strong>), the <code>/etc/passwd</code> and <code>/etc/group</code> files associated theses IDs with names.</li><li>Permissions of files and dirs can be modified at group level</li></ul><a href=#add--remove-users><h3 id=add--remove-users><span class=hanchor arialabel=Anchor># </span>Add & Remove Users</h3></a><ul><li><strong>useradd:</strong> Add user, by default sets the home directory of the user, populates with basic files (copied from <code>/etc/skel</code>) and adds line to the <code>/etc/passwd</code> file.<ul><li><code>sudo useradd &lt;user-name\></code></li></ul></li><li><strong>userdel:</strong> Removes a user but leaves the home directory of the user intact, <code>-r</code> option must be used to remove this dir.<ul><li><code>sudo userdel &lt;user-name\></code></li></ul></li></ul><a href=#add--remove-groups><h3 id=add--remove-groups><span class=hanchor arialabel=Anchor># </span>Add & Remove Groups</h3></a><ul><li><strong>groupadd:</strong> Creates a new group.<ul><li><code>sudo /usr/sbin/groupadd &lt;new-group-name\></code></li></ul></li><li><strong>groupdel:</strong> Deletes a group.<ul><li><code>sudo /usr/sbin/groupdel &lt;new-group-name\></code></li></ul></li><li><strong>groups:</strong> Checks at what groups the user already belongs to<ul><li><code>groups &lt;user-name\></code></li></ul></li><li><strong>usermod:</strong> Adds a user to an already existing group<ul><li><code>sudo /usr/sbin/usermod -a -G &lt;group-name\> &lt;user-name\></code></li></ul></li><li><strong>groupmod:</strong> Changes groups properties</li><li><strong>usermod:</strong> Modifies the groups that a user belongs to, it can be used to add a user to an already existing group or to delete a user from a group<ul><li><code>sudo /usr/sbin/usermod -G &lt;group-name0\>,&lt;group-name1\>,... &lt;user-name\></code></li></ul></li></ul><a href=#the-root-account><h3 id=the-root-account><span class=hanchor arialabel=Anchor># </span>The root Account</h3></a><ul><li>The account that has full access to the system (a.k.a. <strong>superuser</strong>)</li></ul><a href=#su><h4 id=su><span class=hanchor arialabel=Anchor># </span>su</h4></a><ul><li>Used to fully become root</li><li>It can be used to launch another shell as another user (type the password of the user you&rsquo;re becoming)</li></ul><a href=#sudo><h4 id=sudo><span class=hanchor arialabel=Anchor># </span>sudo</h4></a><ul><li>Executes <strong>ONE</strong> command with root privileges</li><li><strong>sudo</strong> configuration files are stored in the /<code>etc/sudoers</code> file and in the<code>/etc/sudoers.d/</code> dir.</li></ul><a href=#startup-files><h3 id=startup-files><span class=hanchor arialabel=Anchor># </span>Startup Files</h3></a><ul><li>Used to configure the user&rsquo;s environment, customize prompt, setting the default text editor, setting the path to find executable programs and define shortcuts and aliases.<ul><li>init files in the <code>/etc</code> dir define global config settings for all users</li><li>init files in the <code>/home</code> dir include and/or override global config settings</li></ul></li><li><strong>Order of the Startup Files:</strong> Evaluates whatever startup file that it comes across first and ignores the rest. These files are read and executed only when the user first logs onto the system in the listed order:<ol><li>~/.bash_profile</li><li>~/.bash_login</li><li>~/.profile</li></ol></li><li>Every time you create a new shell, or terminal window, you do not perform a full system login; only the <code>~/.bashrc</code> is read and evaluated in this case, usually this file is added to the <code>~/.bash_profile</code> file</li></ul><a href=#aliases><h4 id=aliases><span class=hanchor arialabel=Anchor># </span>Aliases</h4></a><ul><li>Used to create customized commands or modify the behavior of already existing ones.</li><li>Usually aliases are placed in the <code>~/.bashrc</code> file<ul><li>The <code>alias</code> command can be used to view the currently defined aliases</li></ul></li><li>To define an alias the <code>alias</code> command must be used, there should not be spaces in the = sign and quotes must be used:<ul><li>Example: <code>alias ll='ls -alF'</code></li></ul></li></ul><a href=#enviroment-variables><h2 id=enviroment-variables><span class=hanchor arialabel=Anchor># </span>Enviroment Variables</h2></a><ul><li>Simply named quantities that have specific values and are understood by the command shell</li><li>Some are pre-set by the system</li><li>Character strings that contains information used by one or more apps</li><li>To view currently set environment variables use: <code>set</code>, <code>env</code> and <code>export</code>.<ul><li><p><strong>$HOME:</strong> environment variable that represents the home (or login) directory of the user</p></li><li><p><strong>$PATH:</strong> Contains an ordered lists of dirs which is scanned when a command is given to find the appropriate program. Each dir in the path is separated by colons(:).</p><ul><li><code>export PATH=&lt;path-to-dir>:$PATH</code></li></ul></li><li><p><strong>$PS1:</strong> Prompt Statement (PS) environment variable is used to customize your prompt string. it can be used with single quotes and:</p><ul><li><p>\u - User name</p></li><li><p>\h - Host name</p></li><li><p>\w - Current working directory</p></li><li><p>! - History number of this command</p></li><li><p>\d - Date</p></li><li><p>Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> OLD_PS1=$PS1
</span></span><span class=line><span class=cl> export PS1=&#39;\u@\h:\w$ &#39;
</span></span><span class=line><span class=cl> PS1=$OLD_PS1
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>$SHELL:</strong> points to the user&rsquo;s default command shell, contains the full pathname to the shell</p></li></ul></li></ul><a href=#setting-environment-variables><h3 id=setting-environment-variables><span class=hanchor arialabel=Anchor># </span>Setting Environment Variables</h3></a><ul><li>Variables created within a script or shell are only available to the current shell, to allow other shells or child-processes use <strong>export</strong> command or edit the <code>.bashrc</code> file<ul><li><code>export VARIABLE=value</code> (or <code>VARIABLE=value; export VARIABLE</code>)</li><li>Add the line <code>export VARIABLE=value</code> to the <code>~/.bashrc</code> file and run the file or starts a new shell</li></ul></li></ul><a href=#commands-history><h4 id=commands-history><span class=hanchor arialabel=Anchor># </span>Commands history</h4></a><ul><li>Bash keeps track of previously entered commands and statements in a history stored in the <code>~/.bash_history</code> file. The command <code>history</code> can also be used<ul><li><strong>!! (bang-bang):</strong> Executes previous commands.</li><li><strong>CTRL-R:</strong> Starts a reverse search for previously used commands.</li><li><strong>!?:</strong> Refer to the last argument in a line</li><li><strong>!n:</strong> Refer to the nth command line</li><li><strong>!string:</strong> Refer to the most recent command starting with string</li></ul></li><li>To get information about the history file we can use the following env. variables:<ul><li><strong>HISTFILE:</strong> stores location of the history file.</li><li><strong>HISTFILESIZE:</strong> stores the max number of lines in the history file.</li><li><strong>HISTSIZE:</strong> stores the maximum number of lines in the history file for the current session.</li></ul></li></ul><a href=#keyboard-shortcuts><h4 id=keyboard-shortcuts><span class=hanchor arialabel=Anchor># </span>Keyboard shortcuts</h4></a><ul><li>CTRL-L: Clears the screen</li><li>CTRL-D: Exits the current shell</li><li>CTRL-Z: Puts the current process into suspended background</li><li>CTRL-C: Kills the current process</li><li>CTRL-H: Works the same as backspace</li><li>CTRL-A: Goes to the beginning of the line</li><li>CTRL-W: Deletes ONLY word before the cursor</li><li>CTRL-U: Deletes from beginning of line to current cursor position</li><li>CTRL-E: Goes to the end of the line</li></ul><a href=#file-permissions><h2 id=file-permissions><span class=hanchor arialabel=Anchor># </span>File Permissions</h2></a><ul><li>In Linux every file is associated with a <strong>user</strong> who is the <strong>owner</strong>, also every files is associated with a <strong>group</strong> (a subset of all users)<ul><li><strong>chown:</strong> Used to change user ownership of a file or directory<ul><li><code>sudo chown &lt;new-owner> &lt;file></code></li></ul></li><li>**chgrp:**Used to change group ownership<ul><li><code>sudo chgrp &lt;new-group-owner> &lt;file></code></li></ul></li><li><strong>chmod:</strong> Used to change the permissions on the file which can be done separately for owner, group and the rest of the world (often named as other.)<ul><li><strong>File permissions:</strong><ul><li>read (r): 4 value</li><li>write (w): 2 value</li><li>execute (x): 1 value</li></ul></li><li><strong>Group permissions:</strong> File permissions affect 3 groups of owners:<ul><li>user/owner (u)</li><li>group (g)</li><li>others (o)</li></ul></li><li><strong>Examples:</strong><ul><li><code>chmod &lt;groups-letters> + &lt;permissions-letters> &lt;file></code></li><li><code>chmod u+rwx,g+rx,o+rx test1</code></li><li><code>chmod 755 test1</code></li></ul></li></ul></li></ul></li></ul><a href=#chapter-13-manipulating-text><h1 id=chapter-13-manipulating-text><span class=hanchor arialabel=Anchor># </span>Chapter 13: Manipulating Text</h1></a><a href=#cat-1><h3 id=cat-1><span class=hanchor arialabel=Anchor># </span>cat</h3></a><p>Short for concatenate usually used to view files contents but it can also:</p><ul><li><code>cat file1 file2</code>: Concatenate and show output.</li><li><code>cat file1 file2 > newfile</code>: Combine and save output into a new file</li><li><code>cat cat file >> existingfile</code>: Append a file to the new of another file</li><li><code>cat > file</code>: It will create a file and any subsequent lines typed will go into the file until CTRL-D is pressed</li><li><code>cat >> file</code>: Any subsequent lines are appended to the an existing file until CTRL-D is pressed.</li><li><code>tac</code>: (cat spelled backwards) works as <code>cat</code> but prints the lines of a file in reverse order.</li></ul><a href=#echo-1><h3 id=echo-1><span class=hanchor arialabel=Anchor># </span>echo</h3></a><p>Usually used to display texts but can also be used to create new files and append contents:</p><ul><li><code>echo string > newfile</code>: The specified string is placed in a new file.</li><li><code>echo string >> existingfile</code>: The specified string is appended to the end of an already existing file.</li><li><code>-e</code> optoin enables the use of special characters like <code>\n</code>,<code>\t</code>,etc</li></ul><a href=#sed><h3 id=sed><span class=hanchor arialabel=Anchor># </span>sed</h3></a><ul><li><strong>sed (stream editor)</strong> used to modify (search and replace) the contents of a file usually placing the contents into a new file.</li><li>Allows you to apply a <strong>sed</strong> command to a file to modify it and then move the final content to a desired output<ul><li><code>sed -e &lt;command1> &lt;filename></code>: Execute sed commands on the file and outputs the result on the terminal.</li><li><code>sed -f scriptfile &lt;filename></code>: Apply a script file with sed commands and outputs the result on the terminal.</li><li>use the <code>-i</code> option to store the result in the same file</li></ul></li><li><code>sed</code> uses both <code>/</code> and <code>:</code> as delimitiers<ul><li><code>sed s:pattern:replace_string:g file1 > file2</code></li></ul></li><li>Usually the result is stored in a new file and if everything is ok the first file is replaced<ul><li><code>sed s/pattern/replace_string/g file1 > file2</code></li><li><code>mv file2 file1</code></li></ul></li></ul><p>Used to create and repeatedly edit and/or extract contents</p><a href=#awk><h3 id=awk><span class=hanchor arialabel=Anchor># </span>awk</h3></a><ul><li>It is used to extract and print specific contents of a file</li><li>The input file is read one line at a time, and, for each line, awk matches the given pattern in the given order and performs the requested action<ul><li><code>awk '&lt;command>' var=value file</code>: Apply the awk command to the file<ul><li><code>awk -F: '{ print $1 }' /etc/passwd</code>: Print first and seventh field of every line <code>-F:</code> option is used to specify a particular field separator</li></ul></li><li><code>awk -f scriptfile var=value file</code>: Apply a awk script file</li></ul></li></ul><a href=#file-manipulation-utilities><h3 id=file-manipulation-utilities><span class=hanchor arialabel=Anchor># </span>File Manipulation Utilities</h3></a><ul><li><code>sort</code>: sorts the <strong>lines</strong> of a file. <code>sort &lt;filename></code></li><li><code>uniq</code>: used to remove duplicate, consecutive lines in a file<ul><li><code>sort &lt;file> | uniq</code> sort file and remove duplicates produces the same result as <code>sort -u file</code></li></ul></li><li><code>paste</code>: can be used paste horizontally or vertically, to combine or append contents of files<ul><li>adds delimiters between paste <code>-d</code></li><li>append contents (horizontal) <code>-s</code></li></ul></li><li><code>join</code>: is an enhanced version of paste to combine contents of files without repeating common fields or data.</li><li><code>split</code>: is used to break up/split a file into equal sized segments, creates a new set of files.</li></ul><a href=#grep><h3 id=grep><span class=hanchor arialabel=Anchor># </span>grep</h3></a><ul><li>Used to search strings within files</li><li><code>grep &lt;pattern> &lt;file></code><ul><li>The pattern can be a combination of string and regexp</li><li><code>-e</code> for explicit use pf regular expression</li><li><code>-v</code> option print all lines that do <strong>NOT</strong> match the pattern</li><li><code>-C N</code> specify the number <code>N</code> of context lines.</li></ul></li></ul><a href=#extra-test-utilities><h3 id=extra-test-utilities><span class=hanchor arialabel=Anchor># </span>Extra test utilities</h3></a><ul><li><code>tr</code>: translates or replaces a set of characters to another set<ul><li><code>tr [options] 'set1' 'set2'</code> check
<a href=https://courses.edx.org/courses/course-v1:LinuxFoundationX+LFS101x.2+1T2015/courseware/d5b9551efa684412abe71a1976a0f164/a2314bbb95e54581a49f835fb64f618b/ rel=noopener>tr link</a><ul><li><code>cat input_file | tr '\t' [:space:]</code> : replace tabs for spaces</li></ul></li></ul></li><li><code>tee</code>: takes the output of any command and saves it to a file besides display it on the standard output<ul><li><code>ls -l | tee newfile</code></li></ul></li><li><code>wc</code>: counts the number of lines, words and chars in a file, use <code>-l</code> for lines and <code>-w</code> for words</li><li><code>cut</code>: used for manipulating column-based files and extract specific columns.</li><li><code>tail</code>: prints the last few lines of each named file<ul><li><code>tail -f &lt;file></code>: To continually monitor new output in a growing file</li></ul></li></ul><a href=#large-files-utilities><h3 id=large-files-utilities><span class=hanchor arialabel=Anchor># </span>Large files utilities</h3></a><ul><li>The <code>less</code> command is equivalent to the cat command but useful for large files because it does need to place everything into memory and allows scrolling</li><li><code>strings</code> command is used to extract the printable characters string found in a file<ul><li><code>strings book1.xls | grep my_string</code></li></ul></li><li>the <strong>z-type</strong> command families is used to work with compressed files <strong>zcat</strong>, <strong>zless</strong>, <strong>zdiff</strong>, and <strong>zgrep</strong>.</li></ul><a href=#regular-expressions><h3 id=regular-expressions><span class=hanchor arialabel=Anchor># </span>Regular Expressions</h3></a><ul><li>Regular expressions are different from the wildcards</li><li>Regular expressions are text strings used for matching a specific pattern they use <strong>meta-characters</strong></li><li>Search patterns:<ul><li><code>.(dot)</code> : Match any single character</li><li><code>a|z</code> : Match a or z</li><li><code>$</code> : Match end of string</li><li><code>*</code> : Match preceding item 0 or more times</li><li><code>.*</code> : Match string</li></ul></li></ul><a href=#chapter-14-network-operations><h1 id=chapter-14-network-operations><span class=hanchor arialabel=Anchor># </span>Chapter 14: Network Operations</h1></a><a href=#intro-concepts><h2 id=intro-concepts><span class=hanchor arialabel=Anchor># </span>Intro Concepts</h2></a><ul><li>A network is a group of computers/devices connected together through communication channels such as cables or wireless</li><li>Internet &ldquo;the network of networks&rdquo;</li></ul><a href=#ip-addresses><h3 id=ip-addresses><span class=hanchor arialabel=Anchor># </span>IP Addresses</h3></a><ul><li>The Internet Protocol (<strong>IP</strong>) address is a logical network unique address. The address is essential for routing packets.</li></ul><a href=#ipv4><h4 id=ipv4><span class=hanchor arialabel=Anchor># </span>IPv4</h4></a><ul><li>Uses 32-bit addresses (4.3 billion)</li><li>Addresses are divided in 4 octets and five classes
<img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/ipv4_add.jpg width=auto alt><ul><li>Network addresses (Net ID): used to identify the network</li><li>Host address (Host ID): used to identify the Host in the network</li><li>Multicast addr: Used to broadcast to multiple devices simultaneously</li></ul></li></ul><a href=#class-a-network-addresses><h5 id=class-a-network-addresses><span class=hanchor arialabel=Anchor># </span>Class A Network Addresses</h5></a><ul><li>First bit of Net ID = 0b</li><li>First octet of an IP address as their Net ID and use the other three octets as the Host ID</li><li>Maximum of 126 Class A networks available</li><li>The 0000000 and 1111111 are reserved</li><li>2^24 = 16.7 million unique hosts on its network.</li><li>Range: 1.0.0.0 to 127.255.255.255.
<img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/ipv4_class_a.jpg width=auto alt></li></ul><a href=#class-b-network-addresses><h5 id=class-b-network-addresses><span class=hanchor arialabel=Anchor># </span>Class B Network Addresses</h5></a><ul><li>First two bits of Net ID = 10b</li><li>First two octets of the IP address as their Net ID and the last two octets as the Host ID</li><li>Maximum of 2^14=16384 Class B networks available</li><li>2^16 = of 65,536 unique hosts on its network.</li><li>Range: 128.0.0.0 to 191.255.255.255.
<img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/ipv4_class_b.jpg width=auto alt></li></ul><a href=#class-c-network-addresses><h5 id=class-c-network-addresses><span class=hanchor arialabel=Anchor># </span>Class C Network Addresses</h5></a><ul><li>First three bits of Net ID = 110b</li><li>First three octets of the IP address as their Net ID and the last octet as their Host ID</li><li>Maximum of 2^21= ~2.1 million Class C networks available</li><li>2^8 = 256 of unique hosts on its network.</li><li>Range: 192.0.0.0 to 223.255.255.255..
<img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/ipv4_class_c.jpg width=auto alt></li></ul><a href=#allocating-ip-address><h6 id=allocating-ip-address><span class=hanchor arialabel=Anchor># </span>Allocating IP address</h6></a><ul><li>A range of IP Addresses is requested from your ISP and the choice of which class of IP address depends on the size of the network.</li><li>To assign IP Address:<ul><li>Manully = static = never changing<ul><li><code>ipcalc &lt;oct3.oct2.oct1.oct0/num-bits-network></code></li><li>For a class C: <code>ipcalc 192.168.0.0/24</code></li></ul></li><li>Dynamically = could change over time or every time the system reboots. <strong>Dynamic Host Configuration Protocol (DHCP)</strong> protocol is used for dynamically assigning of IP address</li></ul></li></ul><a href=#name-resolution><h4 id=name-resolution><span class=hanchor arialabel=Anchor># </span>Name Resolution</h4></a><ul><li>The Domain Name System (DNS) is used to convert numerical IP address into human-readable format (hostname)<ul><li><code>hostname</code> with no args is used to view the systemâ€™s hostname. -</li></ul></li></ul><blockquote><p>The special hostname <strong>localhost</strong> is associated with the IP address <strong>127.0.0.1</strong>, and describes the <strong>machine you are currently on</strong></p></blockquote><a href=#network-interfaces><h4 id=network-interfaces><span class=hanchor arialabel=Anchor># </span>Network interfaces</h4></a><ul><li>They are connections channels between a device and a network</li><li><strong>Network Config files:</strong> used to ensure that interfaces functions correctly<ul><li>Basic network configuration file: <code>/etc/network/interfaces</code></li><li>To starts network config: <code>etc/init.d/networking start</code></li><li>View IP address: <code>/sbin/ip addr show</code></li><li>View routing info <code>/sbin/ip route show</code></li><li>Send a ping to a machine attached to the network <code>ping &lt;hostname></code>.</li></ul></li></ul><a href=#routing><h4 id=routing><span class=hanchor arialabel=Anchor># </span>Routing</h4></a><ul><li>A network requires the connection of many nodes.</li><li>Servers maintain routing tables containing the addresses of each node in the network IP Routing protocols enable routers to build up a forwarding table that correlates final destinations with the next hop addresses.</li></ul><a href=#route><h5 id=route><span class=hanchor arialabel=Anchor># </span>route</h5></a><ul><li>The <code>route</code> command is used to view and change the IP routing table<ul><li><code>route â€“n</code>: Show current routing table</li><li><code>route add -net address</code>: Add static route</li><li><code>route del -net addres</code>: Delete static route</li></ul></li></ul><a href=#traceroute><h5 id=traceroute><span class=hanchor arialabel=Anchor># </span>traceroute</h5></a><ul><li>The <code>traceroute</code> command is used to nspect the route which the data packet takes to reach the destination host<ul><li><code>traceroute &lt;domain></code>: print the route taken by the packet to reach the network host</li></ul></li></ul><a href=#networking-tools><h4 id=networking-tools><span class=hanchor arialabel=Anchor># </span>Networking tools</h4></a><ul><li><code>ethtool eth0</code>: Queries network interfaces</li><li><code>netstat -r</code>: Displays all active connections and routing tables.</li><li><code>nmap -sp &lt;oct3.oct2.oct1.oct0/num-bits-network></code>: Scans open ports on a network.</li><li><code>tcpdump</code>: Dumps network traffic for analysis.</li><li><code>iptraf</code>: Monitors network traffic in text mode.</li></ul><a href=#ipv6><h4 id=ipv6><span class=hanchor arialabel=Anchor># </span>IPv6</h4></a><ul><li>Uses 128-bit addresses (3.4x10^38)</li></ul><blockquote><p>IPv4 and iPv6 do <strong>NOT</strong> inter-operate, there are separated protocols and migrating from one to another requires significant effort</p></blockquote><a href=#host><h5 id=host><span class=hanchor arialabel=Anchor># </span>Host</h5></a><ul><li>A host is a computer with a Web server that handles all the services requested through the pages of a website.</li><li>A host can also be the company that provides this service of having a computer as a web server</li></ul><a href=#graphical-non-graphical-browsers-and-browsing-tools><h3 id=graphical-non-graphical-browsers-and-browsing-tools><span class=hanchor arialabel=Anchor># </span>Graphical, Non-Graphical Browsers and Browsing Tools</h3></a><a href=#non-graphical-browsers><h3 id=non-graphical-browsers><span class=hanchor arialabel=Anchor># </span>Non-Graphical Browsers</h3></a><ul><li>Used to retrieve, transmit and explore information resources usually on the WWW<ul><li><strong>lynx:</strong> Configurable text-based web browser</li><li><strong>links</strong> or <strong>elinks:</strong> Based on lynx. It can display tables and frames.</li><li><strong>w3m:</strong> Newer text-based web browser with many features.</li></ul></li></ul><a href=#wget><h4 id=wget><span class=hanchor arialabel=Anchor># </span>wget</h4></a><ul><li>Used to handled download operations such as:<ul><li>Download large files</li><li>Recursive downloads</li><li>Password required downloads</li><li>Multiple file downloads</li><li>Download a page <code>wget &lt;url></code></li></ul></li></ul><a href=#curl><h4 id=curl><span class=hanchor arialabel=Anchor># </span>curl</h4></a><ul><li>Used to obtain information about an URL<ul><li><code>curl &lt;URL></code></li><li>Download a page: <code>curl -o saved.html &lt;url>.</code></li></ul></li></ul><a href=#file-transfer-protocol-ftp><h3 id=file-transfer-protocol-ftp><span class=hanchor arialabel=Anchor># </span>File Transfer Protocol (FTP)</h3></a><ul><li>Protocol/Method for transferring files between computers using the Internet</li><li>Built on a client-server model</li><li>Can be used within a browser or by standalone client programs</li></ul><a href=#ftp-clients><h4 id=ftp-clients><span class=hanchor arialabel=Anchor># </span>FTP clients</h4></a><ul><li>Enable you to transfer files with remote computers. Usually requires user name and password. Command line FTP clients:<ul><li>ftp, ncftp, yafc</li><li>sftp: It is secure mode conection which uses Secure Shell protocol (<strong>ssh</strong>)</li></ul></li></ul><a href=#ssh-1><h4 id=ssh-1><span class=hanchor arialabel=Anchor># </span>SSH</h4></a><ul><li>Secure Shell is a cryptographic network protocol used for secure data communication</li><li>Used for administering remote system</li><li>Run a command on the remote system: <code>ssh &lt;remotesystem> &lt;command></code></li><li>It needs the remote password</li><li><strong>Secure Copy (scp):</strong> Program that uses <strong>ssh</strong> to securely move/copy files between networked hosts</li><li><code>scp &lt;user@remotesystem>:/home/user/</code></li></ul><a href=#chapter-15--16-bash-shell-scripting><h1 id=chapter-15--16-bash-shell-scripting><span class=hanchor arialabel=Anchor># </span>Chapter 15 & 16: Bash Shell Scripting</h1></a><a href=#intro-3><h3 id=intro-3><span class=hanchor arialabel=Anchor># </span>Intro</h3></a><ul><li>a <strong>shell</strong> is a command line <strong>interpreter</strong> which provides the user interface for terminal windows</li><li>The first line of a script file starts with <code>#!</code>, contains the full path of the command interpreter (Usually <code>/bin/bash</code>)</li><li>All shell scripts generate a return value upon finishing execution; the value can be set with the <code>exit</code> statement</li><li>By default return value is stored in the environment variable represented by <code>$?</code></li><li>To execute a shell script its executable permission must be set or the bash command can be used: <code>bash script.sh</code></li><li>The available shells for the syste, are listed in <code>/etc/shells</code></li></ul><a href=#syntax><h3 id=syntax><span class=hanchor arialabel=Anchor># </span>Syntax</h3></a><a href=#special-characters><h4 id=special-characters><span class=hanchor arialabel=Anchor># </span>Special Characters</h4></a><ul><li><strong>#</strong>: Used to add a comment, except when used as <strong>\#</strong>, or as <strong>#!</strong> when starting a script</li><li><strong>\</strong>: Indicates continuation on to the next line</li><li><strong>$</strong>:Indicates what follows is a variable</li></ul><a href=#chaining-of-commands><h5 id=chaining-of-commands><span class=hanchor arialabel=Anchor># </span>Chaining of commands</h5></a><ul><li><strong>;</strong>: Used to separate commands and execute them sequentially, as if they had been typed on separate lines whether or not the preceding ones succeed.</li><li><strong>&&</strong>: operator will continue executing until something fails. Processing stops as soon as a condition evaluates to false<ul><li><code>make && make install && make clean</code></li></ul></li><li><strong>||</strong>: operator will only continue executing until something succeeds. Only one command is executed successfully. Processing stops as soon as anything is true<ul><li><code>cat file1 || cat file2 || cat file3</code></li></ul></li></ul><a href=#parameters><h4 id=parameters><span class=hanchor arialabel=Anchor># </span>Parameters</h4></a><ul><li>Within a script the parameters are represented with <code>$</code>:<ul><li><p><strong>$0</strong>: Script name</p></li><li><p><strong>$1, $2, $3, etc.</strong> : First, Second, Third parameter, etc.</p></li><li><p><strong>$*</strong>: All parameters</p></li><li><p><strong>$#</strong> : Number of arguments</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>echo</span> <span class=s2>&#34;This is a sample script named: </span><span class=nv>$0</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Number of paramaters passed: </span><span class=nv>$#</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Script Parameter 1 is: </span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Script Parameter 2 is: </span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><a href=#built-in-shell-commands><h3 id=built-in-shell-commands><span class=hanchor arialabel=Anchor># </span>Built-in Shell Commands</h3></a><p>Shell scripts execute sequences of commands and other types of statements.</p><ul><li><strong>Compiled applications:</strong> Binary executable files that you can find on the filesystem (like under <code>/usr/bin</code>)</li><li><strong>Built-in bash commands:</strong> Which can only be used to display the output within a terminal shell</li><li>Scripts from other interpreted languages
<img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/builtin_cmds.jpg width=auto alt></li></ul><a href=#command-substitution-and-nesting><h4 id=command-substitution-and-nesting><span class=hanchor arialabel=Anchor># </span>Command Substitution and Nesting</h4></a><ul><li>The result of one command can be part of another one. To do this for the inner command we can use backticks <strong>`</strong> or more modern (and prefered) <code>$( )</code></li><li>The result of the innermost command will be executed in a new shell and the standard output of the shell will be inserted where the command substitution was done.</li><li>Example:<ul><li><code>cd /lib/modules/$(uname -r)/</code></li></ul></li></ul><a href=#variables><h3 id=variables><span class=hanchor arialabel=Anchor># </span>Variables</h3></a><ul><li>The variables created within a script are available only to the subsequent steps of that script. We must use <strong>export</strong> to make them available<ul><li><code>export VAR=value</code></li><li><code>VAR=value ; export VAR</code></li></ul></li><li>While child processes are allowed to modify the value of exported variables, the parent will not see any changes; <strong>exported variables are not shared</strong>, they are only copied and inherited</li></ul><a href=#script-functions><h3 id=script-functions><span class=hanchor arialabel=Anchor># </span>Script Functions</h3></a><ul><li><p>Also called subroutines is a code block that implements a set of operations</p></li><li><p>It requires previous declaration:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>display <span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;This is a sample function, script name: </span><span class=nv>$0</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Number of func paramaters passed: </span><span class=nv>$#</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Function Parameter 1 </span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Function Parameter 2 </span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>display <span class=s2>&#34;Pepe&#34;</span> <span class=s2>&#34;Sandoval&#34;</span>
</span></span><span class=line><span class=cl>display <span class=s2>&#34;Pepe&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><a href=#conditionals><h2 id=conditionals><span class=hanchor arialabel=Anchor># </span>Conditionals</h2></a><a href=#the-if-then-elif-else-fi-structure><h3 id=the-if-then-elif-else-fi-structure><span class=hanchor arialabel=Anchor># </span>The <code>if-then-elif-else-fi</code> structure</h3></a><ul><li><p><code>[ conditional ]</code> and more modern <code>[[ conditional ]]</code> are used to delineate the test condition, spacing is necessary.</p></li><li><p>The General structure of the <code>if-else</code> is the following, <code>elif</code> can also be used</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>if [ condition ] ; then
</span></span><span class=line><span class=cl> statements
</span></span><span class=line><span class=cl>elif [ condition ] ; then
</span></span><span class=line><span class=cl> statements
</span></span><span class=line><span class=cl>else
</span></span><span class=line><span class=cl> statements
</span></span><span class=line><span class=cl>fi
</span></span></code></pre></td></tr></table></div></div><p>or the equivalent</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>if [ condition ]
</span></span><span class=line><span class=cl>then
</span></span><span class=line><span class=cl> statements
</span></span><span class=line><span class=cl>elif [ condition ]
</span></span><span class=line><span class=cl>then
</span></span><span class=line><span class=cl> statements
</span></span><span class=line><span class=cl>else
</span></span><span class=line><span class=cl> statements
</span></span><span class=line><span class=cl>fi
</span></span></code></pre></td></tr></table></div></div></li></ul><a href=#conditionals-evaluation-expressions><h3 id=conditionals-evaluation-expressions><span class=hanchor arialabel=Anchor># </span>Conditionals Evaluation Expressions</h3></a><ul><li><strong>File Testing:</strong> bash provides a set of file conditionals (check the full list with <code>man 1 test</code>)<ul><li><code>-e file</code>: Check if the file exists.</li><li><code>-d file</code>: Check if the file is a directory.</li><li><code>-f file</code>: Check if the file is a regular file (i.e., not a symbolic link, device node, directory, etc.)</li><li><code>-s file</code>: Check if the file is of non-zero size.</li><li><code>-g file</code>: Check if the file has sgid set.</li><li><code>-u file</code>: Check if the file has suid set.</li><li><code>-r file</code>: Check if the file is readable.</li><li><code>-w file</code>: Check if the file is writable.</li><li><code>-x file</code>: Check if the file is executable.</li></ul></li></ul><p>Examples:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>file</span><span class=o>=</span><span class=s2>&#34;./test.txt&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -f <span class=nv>$file</span> <span class=o>]</span> <span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$file</span><span class=s2> file exists&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># test for NULL or uninitialized on first parameter passed
</span></span><span class=line><span class=cl>if [[ -z $1 ]]; 
</span></span><span class=line><span class=cl>then 
</span></span><span class=line><span class=cl>    echo &#34;No parameter passed.&#34;
</span></span><span class=line><span class=cl>else
</span></span><span class=line><span class=cl>    echo &#34;Parameter passed = $1&#34;
</span></span><span class=line><span class=cl>fi
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># test for NULL or uninitialized on first parameter passed
</span></span><span class=line><span class=cl>if [[ $# -lt 1 ]]; 
</span></span><span class=line><span class=cl>then 
</span></span><span class=line><span class=cl>    echo &#34;# parameters passed ($#) is &lt; 1&#34;
</span></span><span class=line><span class=cl>else
</span></span><span class=line><span class=cl>    echo &#34;# parameters passed ($#) is &gt; 1&#34;
</span></span><span class=line><span class=cl>fi
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Numerical Testing:</strong> bash provides a set of numerical conditionals that use the syntax: <code>exp1 -op exp2</code> the operators are:<ul><li><code>-eq</code>: Equal to</li><li><code>-ne</code>: Not equal to</li><li><code>-gt</code>: Greater than</li><li><code>-lt</code>: Less than</li><li><code>-ge</code>: Greater than or equal to</li><li><code>-le</code>: Less than or equal to</li></ul></li></ul><p>Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>var</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$var</span> -eq <span class=m>1</span> <span class=o>]</span> <span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;var is equal to 1&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Arithmetic Expressions:</strong><ul><li>To evaluate an arithmetic expresion the built-in shell format must be used: <code>$((expr))</code></li><li>The command <code>let</code> can also be used</li></ul></li></ul><p>Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>op1</span><span class=o>=</span><span class=k>$((</span><span class=m>1</span> <span class=o>+</span> <span class=m>3</span><span class=k>))</span><span class=p>;</span> <span class=nb>echo</span> <span class=s2>&#34;operator 1 is: </span><span class=nv>$op1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>let</span> <span class=nv>op2</span><span class=o>=(</span> <span class=m>2</span> + <span class=m>1</span> <span class=o>)</span><span class=p>;</span> <span class=nb>echo</span> <span class=s2>&#34;operator 2 is: </span><span class=nv>$op2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Arithmetic example </span><span class=k>$((</span><span class=nv>$op1</span><span class=o>+</span><span class=nv>$op2</span><span class=k>))</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div><a href=#boolean-expressions><h3 id=boolean-expressions><span class=hanchor arialabel=Anchor># </span>Boolean expressions</h3></a><ul><li><code>||</code> OR, <code>&&</code> AND, <code>!</code> NOT can be used in conditionals</li></ul><p>Example</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>AGE</span><span class=o>=</span><span class=m>26</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o><a class="internal-link broken"></span> <span class=nv>$AGE</span> -ge <span class=m>20</span> <span class=o></a></span> <span class=o>&amp;&amp;</span> <span class=o><a class="internal-link broken"></span> <span class=nv>$AGE</span> -lt <span class=m>30</span> <span class=o></a></span> <span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;you are in your 20s&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><a href=#string-manipulation--evaluation><h3 id=string-manipulation--evaluation><span class=hanchor arialabel=Anchor># </span>String Manipulation & Evaluation</h3></a><ul><li><strong>==</strong> and <strong>!=</strong> : Can be used to compare strings.<ul><li><code>if [[ $color == "red" ]]</code> or <code>if [[ "$color" == red ]]</code></li><li><code>if [[ $color != "red" ]]</code> or <code>if [[ "$color" != red ]]</code></li></ul></li><li>bash allows string manipulation through the following operations<ul><li><strong>[[ ! -z string2 ]]</strong>: Test for NOT null string (zero length string)</li><li><strong>[[ string1 > string2 ]]</strong>: Compares the sorting order of string1 and string2.</li><li><strong>[[ string1 = string2 ]]</strong>: Compares the characters in string1 with the characters in string2.</li><li><strong>myLen1=${#string1}</strong>: Saves the length of string1 in the variable myLen1.</li><li><strong>${string:offset:numchars}</strong>: extract the numbers of characters specified and starting from the offset given</li><li><strong>${string##*<specialchar>}</strong>: extract all the character after the given special character</li></ul></li></ul><a href=#thecase-statement><h3 id=thecase-statement><span class=hanchor arialabel=Anchor># </span>The<code>case</code> statement</h3></a><p>The General structure of the <code>case</code> statement is the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>case expression in
</span></span><span class=line><span class=cl>  pattern1)
</span></span><span class=line><span class=cl>      commands
</span></span><span class=line><span class=cl>      ;;
</span></span><span class=line><span class=cl>  pattern2)
</span></span><span class=line><span class=cl>      commands
</span></span><span class=line><span class=cl>      ;;
</span></span><span class=line><span class=cl>  pattern3)
</span></span><span class=line><span class=cl>      commands
</span></span><span class=line><span class=cl>      ;;
</span></span><span class=line><span class=cl>  pattern4)
</span></span><span class=line><span class=cl>      commands
</span></span><span class=line><span class=cl>      ;;
</span></span><span class=line><span class=cl>  *)
</span></span><span class=line><span class=cl>      echo default commands or nothing
</span></span><span class=line><span class=cl>      ;;
</span></span><span class=line><span class=cl>esac
</span></span></code></pre></td></tr></table></div></div><p>Examples:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>read</span> -p <span class=s2>&#34;Respond &#39;yes&#39; or &#39;no&#39;? &#34;</span> resp
</span></span><span class=line><span class=cl><span class=c1>#resp=&#34;yes&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=nv>$resp</span> in
</span></span><span class=line><span class=cl>    yes<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;You responded yes&#34;</span><span class=p>;;</span>
</span></span><span class=line><span class=cl>    no<span class=o>)</span>  <span class=nb>echo</span> <span class=s2>&#34;You responded no&#34;</span><span class=p>;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    * <span class=o>)</span>  <span class=nb>echo</span> <span class=s2>&#34;Other response&#34;</span> <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#!/bin/bash</span>
</span></span><span class=line><span class=cl><span class=nv>month</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=nv>$month</span> in
</span></span><span class=line><span class=cl>  1<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;January&#34;</span>  <span class=p>;;</span>
</span></span><span class=line><span class=cl>  2<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;February&#34;</span> <span class=p>;;</span>
</span></span><span class=line><span class=cl>  3<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;March&#34;</span>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>  4<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;April&#34;</span>     <span class=p>;;</span>
</span></span><span class=line><span class=cl>  *<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Error. No month matches: </span><span class=nv>$month</span><span class=s2>&#34;</span> <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></td></tr></table></div></div><a href=#looping><h2 id=looping><span class=hanchor arialabel=Anchor># </span>Looping</h2></a><a href=#for><h3 id=for><span class=hanchor arialabel=Anchor># </span>for</h3></a><p>The general syntax for the <code>for</code> statement is the following, the <code>for</code> variables does not need to be declared previously:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>for variable-name in list
</span></span><span class=line><span class=cl>do
</span></span><span class=line><span class=cl>    commands
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>done
</span></span></code></pre></td></tr></table></div></div><p>Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>i</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>for</span> filename in <span class=k>$(</span>ls<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;filename </span><span class=nv>$i</span><span class=s2> is: </span><span class=nv>$filename</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>i</span><span class=o>=</span><span class=k>$((</span><span class=nv>$i</span><span class=o>+</span><span class=m>1</span><span class=k>))</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><a href=#while><h3 id=while><span class=hanchor arialabel=Anchor># </span>while</h3></a><p>The general structure of the <code>while</code> statement is the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>while [ condition-is-true ]
</span></span><span class=line><span class=cl>do
</span></span><span class=line><span class=cl>    commands
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>done
</span></span></code></pre></td></tr></table></div></div><p>Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>i</span><span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=o>[</span> <span class=nv>$i</span> -lt <span class=m>10</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;i values is: </span><span class=nv>$i</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>i</span><span class=o>=</span><span class=k>$((</span><span class=nv>$i</span><span class=o>+</span><span class=m>1</span><span class=k>))</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><a href=#until><h3 id=until><span class=hanchor arialabel=Anchor># </span>until</h3></a><p>The general structure of the <code>until</code> statement is the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>until [ condition-is-false ]
</span></span><span class=line><span class=cl>do
</span></span><span class=line><span class=cl>    commands
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>done
</span></span></code></pre></td></tr></table></div></div><p>Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>i</span><span class=o>=</span><span class=m>10</span>
</span></span><span class=line><span class=cl><span class=k>until</span> <span class=o>[</span> <span class=nv>$i</span> -lt <span class=m>0</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;i values is: </span><span class=nv>$i</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>i</span><span class=o>=</span><span class=k>$((</span><span class=nv>$i</span><span class=o>-</span><span class=m>1</span><span class=k>))</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><a href=#debugging><h2 id=debugging><span class=hanchor arialabel=Anchor># </span>Debugging</h2></a><ul><li>In bash we can run scripts in debug mode by doing <code>bash -x ./script-file</code></li><li>inthe script we can turn on/off the debugging mode with the following commands<ul><li><code>set -x</code>: Turns <strong>ON</strong> debugging</li><li><code>set +x</code>: Turns <strong>OFF</strong> debugging</li></ul></li></ul><a href=#input-and-output-redirection><h3 id=input-and-output-redirection><span class=hanchor arialabel=Anchor># </span>Input and Output Redirection</h3></a><ul><li><p>To redirect the output of a program we use the <code>></code> and <code>>></code> operator so instead of directing its output to its default output stream we directed to a file or to another program, same case applies for input redirection.</p></li><li><p>When redirecting to a file the <code>></code> create/overwrite a file and the <code>>></code> operator appends to the file</p></li><li><p>In Linux all programs that run are given three open file streams</p><ul><li><strong>stdin (0)</strong>: By default keyboard for programs that run from terminal</li><li><strong>stdout (1)</strong>: By default screen for programs that run from terminal</li><li><strong>stderr (2):</strong> Where output error messages are saved</li></ul></li></ul><a href=#extra-shell-utilities><h3 id=extra-shell-utilities><span class=hanchor arialabel=Anchor># </span>Extra shell utilities</h3></a><ul><li><strong>mktemp:</strong> Used to create temporary files and directories with random names<ul><li><code>TEMP=$(mktemp /tmp/tempfile.XXXXXXXX)</code>: Create a temporary file. Use the <code>-d</code> option for a temp dir</li></ul></li><li><strong>/dev/null</strong>: A black hole use to discard the output of a command but <strong>errors</strong> will still appear</li><li><strong>$RANDOM</strong>: Used for generating random numbers<ul><li><strong>$(($RANDOM%<range>))</strong></li></ul></li></ul><a href=#chapter-17-printing><h1 id=chapter-17-printing><span class=hanchor arialabel=Anchor># </span>Chapter 17: Printing</h1></a><p>Printing itself requires software that converts information from the application you are using to a language your printer can understand. The Linux standard for printing software is the <strong>Common UNIX Printing System (CUPS)</strong>.</p><ul><li>Printers manufactured by different companies may use their own particular print languages and formats.</li></ul><a href=#cups-common-unix-printing-system><h3 id=cups-common-unix-printing-system><span class=hanchor arialabel=Anchor># </span>CUPS: Common UNIX Printing System</h3></a><ul><li><p>It is the Linux standard software for printing</p></li><li><p>CUPS is the software that is used behind the scenes to print from applications</p></li><li><p>It converts page descriptions produced by your application and sends the information to the printer</p></li><li><p>Requires:</p><ul><li><strong>Configuration Files:</strong> used by the CUPS scheduler and stored at <code>/etc/cups/</code>:<ul><li><code>printers.conf</code>: contains printer specific settings for each printer there is a description for the printerâ€™s status and capabilities; generated only after adding a printer</li><li><code>cupsd.conf</code>: system settings not printer specific like which systems can access CUPS network capabilities, how printers are advertised on the local network, etc.</li></ul></li><li><strong>Scheduler:</strong> manages print jobs and manages print jobs and the flow of data through all CUPS components.</li><li><strong>Job Files:</strong> Stores print requests as files under the <code>/var/spool/cups</code></li><li><strong>Log Files:</strong> Placed in <code>/var/log/cups</code> and are used by the scheduler to record activities that have taken place like access, error, and page records.</li><li><strong>Filter:</strong> Used to convert job file formats to printable formats.</li><li><strong>Printer Drivers:</strong> Contain descriptions for currently connected and configured printers, usually stored under <code>/etc/cups/ppd/</code></li><li><strong>Backend:</strong> It is the via used to send data to the printer and also helps to locate devices connected to the system.</li></ul></li><li><p>When you execute a print command, the scheduler validates the command and processes the print job creating job files according to the settings specified in configuration files. Simultaneously, the scheduler records activities in the log files. Job files are processed with the help of the filter, printer driver, and backend, and then sent to the printer.</p></li><li><p>CUPS web interface is available at: <code>http://localhost:631</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  sudo /etc/init.d/cups {start | restart | status stop}
</span></span><span class=line><span class=cl>  sudo update-rc.d cups restart {enable | disable}
</span></span></code></pre></td></tr></table></div></div><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/cups.jpg width=auto alt></p></li><li><p>The commands <code>lp</code>, <code>lpr</code> and <code>lpstat -a</code> are used for printing and print status</p></li></ul><a href=#pdf-editing><h4 id=pdf-editing><span class=hanchor arialabel=Anchor># </span>PDF editing</h4></a><p>the <strong>pdftk</strong> is a great tool for manipulating PDF files it can merge, split, rotate, encrypt, repair, pull pages, export data, etc.
<a href=https://courses.edx.org/courses/course-v1:LinuxFoundationX+LFS101x.2+1T2015/courseware/6117e9680b8444cf99cfbde8767c47cd/d0afd8b6a7bb4e15b7449c97f532d69f/1 rel=noopener>pdftk</a></p><a href=#chapter-18-local-security-principles><h1 id=chapter-18-local-security-principles><span class=hanchor arialabel=Anchor># </span>Chapter 18: Local Security Principles</h1></a><a href=#user-accounts><h3 id=user-accounts><span class=hanchor arialabel=Anchor># </span>User Accounts</h3></a><ul><li>Linux identifies each user with an user ID (<strong>UID</strong>) and uses a database that associates each <strong>username</strong> with each <strong>UID</strong></li><li>Creating a user implies adding new user information is added to the user database, creating a home dir and populated with some essential files</li><li>The <code>/etc/passwd</code> file stores the following essential fields for each user:<ol><li><strong>Username:</strong> User login name (between 1 and 32 characters)</li><li><strong>Password:</strong><ul><li>User paswword in <em>encrypted</em> format</li><li>The character <strong>x</strong> if the password is stored in the <code>/etc/shadow</code> file</li></ul></li><li><strong>User ID (UID):</strong><ul><li>UID 0: Reserved foor root user</li><li>UID [1,99]: Other predefenied accounts</li><li>UID [100,999]: System accounts and groups</li><li>UID [1000,+inf]: Normal users</li></ul></li><li><strong>Group ID (GID):</strong> Primary groupd ID; the ID stored in the <code>/etc/group</code> file</li><li><strong>User Info:</strong> Optional field for extra information such as the complete name of the user</li><li><strong>Home Dir Path:</strong> The absolute path location of user&rsquo;s home directory</li><li><strong>Shell Path:</strong> The absolute location of a user&rsquo;s default shell</li></ol></li></ul><a href=#type-of-accounts><h3 id=type-of-accounts><span class=hanchor arialabel=Anchor># </span>Type of Accounts</h3></a><ul><li>The <code>last</code> utility, which shows the last time each user logged into the system</li><li>Linux distinguishes between four types of accounts to isolate processes and workloads:<ol><li>root</li><li>System</li><li>Normal</li><li>Network</li></ol></li></ul><a href=#root><h3 id=root><span class=hanchor arialabel=Anchor># </span>root</h3></a><ul><li><p>Most privileged account with authority over the entire system (aka <strong>superuser</strong>), so it has <strong>NO security restrictions</strong> upon it</p></li><li><p>When signed as root the shell displays a <strong>#</strong></p><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/root_priv.jpg width=auto alt title="Partitions example"></p></li><li><p>Has the ability to carry out all System Administration. Privileges (root) are required to perform tasks such as:</p><ul><li>Add/remove accounts</li><li>Change user paswwords</li><li>Remove/Modify system files</li><li>Managing Software packages and Installing SW</li><li>Restarting system services</li><li>etc.</li></ul></li></ul><a href=#su-1><h4 id=su-1><span class=hanchor arialabel=Anchor># </span>su</h4></a><ul><li>Elevates the privileges of a user indefinitely (until the user wants to).</li><li>The <strong>root account password</strong> is needed.</li></ul><a href=#sudo-1><h4 id=sudo-1><span class=hanchor arialabel=Anchor># </span>sudo</h4></a><ul><li>Elevates the user privileges for <strong>ONE</strong> command. Calls to <strong>sudo</strong> trigger a lookup in the /etc/sudoers file, or in the /etc/sudoers.d directory, which first validates that the calling user is allowed to use sudo and that it is being used within permitted scope</li><li>The <strong>user account password</strong> is needed NOT the root password</li><li>Has extensive logging features, that means it keeps track of when the command is used and if it was or not successful. This info is stored in the <code>/var/log/secure</code> and <code>/var/log/auth.log</code> files. The typical logging messages contains:<ul><li>Calling date, time and username</li><li>Terminal info</li><li>Working directory</li><li>User account invoked</li><li>Command with arguments</li></ul></li><li>Users&rsquo; authorization for using sudo is based on configuration info stored in the <code>/etc/sudoers</code> file and in the <code>/etc/sudoers.d</code> dir:<ul><li>basic entry:<ul><li><code>who where = (as_whom) what</code><ul><li>the <code>visudo</code> command can be used to properly edit the <strong>sudoers</strong> file this file <strong>affects ALL users</strong></li><li>Adding a file to the <code>/etc/sudoers.d</code> with same name of the user that contains the individuial user&rsquo;s sudo configuration wil <strong>ONLY affects this user</strong>.</li></ul></li></ul></li></ul></li></ul><a href=#creating-a-new-user-in-linux><h4 id=creating-a-new-user-in-linux><span class=hanchor arialabel=Anchor># </span>Creating a new user in Linux</h4></a><p>To create and account using useradd, as <strong>root</strong> only:</p><ol><li><code>useradd &lt;username></code></li><li><code>passwd &lt;username></code></li><li>Enter password when prompted and retype to confirm</li></ol><p><strong>SUID</strong> (Set owner User ID upon execution) is a special kind of file permission given to a file that provides temporary permissions to a user to run a program with the permissions of the file owner (which may be root) instead of the permissions held by the user.</p><a href=#process-isolation><h3 id=process-isolation><span class=hanchor arialabel=Anchor># </span>Process isolation</h3></a><ul><li>Processes are naturally isolated, one program cannot access the resources of another process even if both are running with the same user privileges</li><li>It is the reason Linux is considered more secure than other OS</li></ul><p>Additional security mechanism:</p><ul><li><strong>Control Groups (cgroups):</strong> Allows to group processes and associate finite resources to each cgroup.</li><li><strong>Virtualization:</strong> HW is emulated so entire systems can be run isolated, basically run isolated Virtual machines on physical host</li><li><strong>Linux Containers (LXC):</strong> Makes it possible to run multiple isolated Linux systems (containers) on a single system using <strong>cgroups</strong></li></ul><a href=#harware-devices><h3 id=harware-devices><span class=hanchor arialabel=Anchor># </span>Harware devices</h3></a><ul><li>Linux limits user access to HW devices in a manner that is extremely similar to a regular file</li><li>HW interaction:<ol><li>Applications interacts by engaging the filesystem layer (independent of the actual HW device),</li><li>The filesystem layer opens a device special file (<strong>device node</strong>) under <strong>/dev</strong> dir that corresponds to the device being accessed</li><li>Each device node has standard owner, group and permissions. Security applies as if it where a file</li></ol></li></ul><a href=#hard-disk-example><h5 id=hard-disk-example><span class=hanchor arialabel=Anchor># </span>Hard Disk Example</h5></a><blockquote><p>A Hard disk for example are represented as /dev/sd* which is the device node of the Hard Disk so theoretically if a user has the appropriate permissions it could do something like <code>echo hello world > /dev/sda1</code> which shows that this HW device can be interacted as if it were a file but this could actually destroy the FS. So the normal <strong>reading and writing is done at a higher level through the filesystem, and never through direct access to the device node</strong>.</p></blockquote><a href=#paswords><h3 id=paswords><span class=hanchor arialabel=Anchor># </span>Paswords</h3></a><ul><li>Passwords are stored in an encrypted format in a secondary file named <code>/etc/shadow</code> and only those with root access can modify/read this file.</li><li><strong>Password Encryption:</strong> Most Linux distributions rely on a modern password encryption algorithm called <strong>SHA-512 (Secure Hashing Algorithm 512 bits)</strong></li><li><strong>Password Aging:</strong> Method that ensures a password update every certain time. Uses the <strong>chage</strong> which configures the expiration date/time of user info</li><li><strong>Pluggable Authentication Modules (PAM):</strong> Tool that automatically verifies that a password created/modified using <strong>passwd</strong> is sufficiently strong.</li></ul><a href=#boot-process-passwords-security-requiring-boot-loader-passwords><h4 id=boot-process-passwords-security-requiring-boot-loader-passwords><span class=hanchor arialabel=Anchor># </span>Boot Process Passwords Security (Requiring Boot Loader Passwords)</h4></a><p>To secure the boot process in GRUB version 1:</p><ol><li>Invoke the <code>grub-md5-crypt</code> enter and confirm password when prompted.</li><li>Edit the <code>/boot/grub/grub.conf</code> file, add <code>password --md5</code></li></ol><p>To secure the boot process in GRUB version 2:</p><ol><li>Edit the system configuration files in <code>/etc/grub.d</code>.</li><li>Run the <code>update-grub</code> command. Check
<a href=https://help.ubuntu.com/community/Grub2/Passwords rel=noopener>GRUB2-Pass</a> for example</li></ol><a href=#hw-vulnerability><h4 id=hw-vulnerability><span class=hanchor arialabel=Anchor># </span>HW Vulnerability</h4></a><p>When HW is physically accessible, some security breaching types are:</p><ul><li><strong>Key-logging:</strong> Record real time activity of a HW device (key press)</li><li><strong>Network sniffing:</strong> Capturing network packet level data</li><li><strong>Booting with rescue disk or USB key</strong></li><li><strong>Remounting and modifying disk content</strong></li></ul><a href=#want-to-show-support-1><h5 id=want-to-show-support-1><span class=hanchor arialabel=Anchor># </span>Want to show support?</h5></a><p>If you find the information in this page useful and want to show your support, you can make a donation</p><p>Use PayPal</p><p><img src=https://aryana101a.github.io/digital_garden//notes/linux_notes/linux_notes_assets/pixel.gif width=auto alt></p><p>or</p><p><a href=https://commerce.coinbase.com/checkout/1e4de557-4be8-4674-a2be-417b4a203e72 rel=noopener>Donate with Crypto</a></p><p>This will help me to create more stuff and fix the existent content&mldr; or probably your money will be used to buy beer</p><p><a href="http://www.pepedocs.com/notes?tid=linux&nid=lfs101x#page-top" rel=noopener></a></p><ul><li><a href=http://www.pepedocs.com/about rel=noopener>About</a></li><li>Â·</li><li><a href=http://www.pepedocs.com/terms rel=noopener>Terms of Use</a></li><li>Â·</li><li><a href=http://www.pepedocs.com/privacy rel=noopener>Privacy Policy</a></li></ul><p>Copyright Â© pepe-docs 2018. All Rights Reserved.</p><ul><li><a href=https://www.linkedin.com/in/jmsandovalchavez/ rel=noopener></a></li><li><a href=http://www.pepedocs.com/webcv rel=noopener></a></li><li><a href=http://www.pepedocs.com/cv rel=noopener></a></li></ul></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/digital_garden/notes/notes/ data-ctx=LinuxNotes data-src=/notes/notes class=internal-link>notes</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://aryana101a.github.io/digital_garden/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Aryan Arora using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2024</p><ul><li><a href=https://aryana101a.github.io/digital_garden/>Home</a></li><li><a href=https://www.linkedin.com/in/aryanar0ra/>Linkedin</a></li><li><a href=https://github.com/aryanA101a>Github</a></li></ul></footer></div></div></body></html>